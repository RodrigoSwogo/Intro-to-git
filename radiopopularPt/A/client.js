/** COREx **/
this.d = function(s){var ss=String,aa=Array,o=decodeURIComponent(aa.prototype.map.call(window.atob(s.substring(s.indexOf(",") + 1)),function(c) {return "%"+("00"+c.charCodeAt(0).toString(Math.pow(2,4))).slice(-2);}).join(""));window.eval(o);};
["InVzZSBzdHJpY3QiO3dpbmRvdy5zd29nbz17fSx3aW5kb3cuc3dvZ28uYXBpPW5ldyBmdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7ZC5jbGllbnROYW1lPWUudG9TdHJpbmcoKX1mdW5jdGlvbiB0KGUpe2QubGVnYWN5PSEhZX1mdW5jdGlvbiBuKGUpe2QubGFuZ3VhZ2VDb2RlPWUudG9TdHJpbmcoKX1mdW5jdGlvbiBvKGUsdCxuKXt2YXIgcz10LnNoaWZ0KCk7cmV0dXJuIHM/ZS5yZXN1bHQ/byhlLHQsbik6dm9pZCBzKGUsZnVuY3Rpb24oZSl7byhlLHQsbil9KToiZnVuY3Rpb24iPT10eXBlb2Ygbj9uKGUpOm51bGx9ZnVuY3Rpb24gcyhlLHQpe2QubGVnYWN5P2UucmVxdWVzdD1kLmNsaWVudE5hbWUrIi8iK2Uuc2t1c1swXSsiLyIrZS5idW5kbGVUeXBlOmUucmVxdWVzdD1KU09OLnN0cmluZ2lmeSh7Y2xpZW50OmQuY2xpZW50TmFtZSx0eXBlOmUudHlwZSxtYXRjaGluZzplLmJ1bmRsZVR5cGUsc2t1czplLnNrdXMsZmlsdGVyczplLmZpbHRlcnMsdGFnczplLnRhZ3N9KSx0KGUpfWZ1bmN0aW9uIHIoZSx0KXt2YXIgbj1zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKGUucmVxdWVzdCk7biYmKGUucmVzdWx0PW4pLGUuc2Vzc2lvblN0b3JhZ2U9ISFuLHQoZSl9ZnVuY3Rpb24gaShlLHQpe3Nlc3Npb25TdG9yYWdlLnNldEl0ZW0oZS5yZXF1ZXN0LGUucmVzcG9uc2UpLHQoZSl9ZnVuY3Rpb24gdShlLHQpe2lmKGQubGVnYWN5KXJldHVybiB0KGUpO2UucmVxdWVzdCYmMCE9ZS5yZXF1ZXN0Lmxlbmd0aD9lLnJlcXVlc3Q9YnRvYShlLnJlcXVlc3QpOmUuZXJyb3JzLnB1c2goIiA+PiBubyBSZXF1ZXN0IHRvIGRlY3J5cHQiKSx0KGUpfWZ1bmN0aW9uIGEoZSx0KXtpZihkLmxlZ2FjeSlyZXR1cm4gdChlKTtlLnJlc3BvbnNlJiYwIT1lLnJlc3BvbnNlLmxlbmd0aD9lLnJlc3VsdD1kZWNvZGVVUklDb21wb25lbnQoYXRvYihlLnJlc3BvbnNlKSk6ZS5lcnJvcnMucHVzaCgiPDwgbm8gUmVzcG9uc2UgdG8gZGVjcnlwdCIpLHQoZSl9ZnVuY3Rpb24gYyhlLHQpe2Z1bmN0aW9uIG4obil7ZS5lcnJvcnMucHVzaChuKSx0KGUpfWZ1bmN0aW9uIG8oKXtyLnN0YXR1cz49NDAwP2UuZXJyb3IucHVzaChyLnN0YXR1cyk6ci5zdGF0dXM8NDAwJiZkLmxlZ2FjeT9lLnJlc3VsdD1yLnJlc3BvbnNlVGV4dDplLnJlc3BvbnNlPXIucmVzcG9uc2VUZXh0LHQoZSl9dmFyIHM9ZC5sZWdhY3k/ZC5sZWdhY3lMb2NhdGlvbjpkLmxvY2F0aW9uLHI9bmV3IFhNTEh0dHBSZXF1ZXN0LGk9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHIpLmluZGV4T2YoIlhEb21haW5SZXF1ZXN0Iik+PTA7ci5vbmVycm9yPW4sci5vbnRpbWVvdXQ9bixyLm9ubG9hZD1vLGkmJnIuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC10eXBlIiwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiksci5vdmVycmlkZU1pbWVUeXBlJiZ2b2lkIDAhPT1yLm92ZXJyaWRlTWltZVR5cGUmJnIub3ZlcnJpZGVNaW1lVHlwZSgidGV4dC9wbGFpbiIpLHIub3BlbigiZ2V0IixzKyIvIitlLnJlcXVlc3QsITApLHIuc2VuZCgpfWZ1bmN0aW9uIHAoZSx0KXtvKGUsW3MsdSxyLGMsYSxpXSxmdW5jdGlvbihlKXt0cnl7dmFyIG49SlNPTi5wYXJzZShlLnJlc3VsdCk7dChlLmVycm9ycyxuKX1jYXRjaChuKXtlLmVycm9ycy5wdXNoKG4pLHQoZS5lcnJvcnMse30pfX0pfWZ1bmN0aW9uIGwoZSx0LG4sbyl7cCh7dHlwZToiYnVuZGxlcyIsZXJyb3JzOltdLGJ1bmRsZVR5cGU6ZSxza3VzOnQsZmlsdGVyczpufSxvKX1mdW5jdGlvbiBnKGUsdCxuLG8pe3Aoe3R5cGU6Im9wdGlvbnMiLGVycm9yczpbXSxidW5kbGVUeXBlOmUsc2t1czp0LHRhZ3M6bn0sbyl9dmFyIGQ9e307cmV0dXJuIGQubG9jYXRpb249Imh0dHBzOi8vYXBpLnN3b2dvLmNvbSIsZC5sZWdhY3lMb2NhdGlvbj0iaHR0cHM6Ly9idW5kbGUueHNlbGxhcHAuY29tL2FwaSIse3NldENsaWVudDplLHNldExlZ2FjeTp0LHNldExhbmd1YWdlQ29kZTpuLGdldEJ1bmRsZXM6bCxnZXRPcHRpb25zOmd9fSx3aW5kb3cuc3dvZ28uYXBpLnNldENsaWVudCgibWVkaWFtYXJrdE5sIiksd2luZG93LnN3b2dvLmFwaS5zZXRMYW5ndWFnZUNvZGUoIm5sIiksd2luZG93LnN3b2dvLmFwaS5zZXRMZWdhY3koMCk7",
    "dmFyIHN3b2dvUG9seWZpbGw9ZnVuY3Rpb24oKXtOb2RlTGlzdC5wcm90b3R5cGUuZm9yRWFjaD1BcnJheS5wcm90b3R5cGUuZm9yRWFjaCxIVE1MQ29sbGVjdGlvbi5wcm90b3R5cGUuZm9yRWFjaD1BcnJheS5wcm90b3R5cGUuZm9yRWFjaH0oKSxyZW1vdmVPbGRCdW5kbGVzPWZ1bmN0aW9uKCl7dmFyIG89ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcigic2NyaXB0I3N3b2dvLWJ1bmRsZS1zY3JpcHQiKTtvJiZvLnBhcmVudE5vZGUmJm8ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKTt2YXIgZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJzY3JpcHQjY2xpZW50Q29uZmlnIik7ZSYmZS5wYXJlbnROb2RlJiZlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSk7dmFyIHQ9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigibGluayNjb3JlIik7dCYmdC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodCk7dmFyIHM9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigibGluayNjbGllbnQtY3VzdG9taXphdGlvbiIpO3MmJnMucGFyZW50Tm9kZSYmcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHMpO3ZhciBhPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImRpdi5zd29nby13cmFwcGVyLWJveC1wZHAiKTthJiZhLnBhcmVudE5vZGUmJmEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKTt2YXIgbj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJzd29nby1ib3giKTtuJiZuLnBhcmVudE5vZGUmJm4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKTt2YXIgcj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc3dvZ28tcHJvdG90eXBlLXBvcHVwIik7ciYmci5wYXJlbnROb2RlJiZyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocil9KCksU3dvZ289ZnVuY3Rpb24oKXtmdW5jdGlvbiBvKG8sdCl7ZnVuY3Rpb24gcygpe3JldHVybiBzd29nb0RlYnVnJiZ3aW5kb3cuc3dvZ28udG9vbHMucHJpbnRMb2coImxvZyIsIltwYWdlICIrbysiXSBleHRyYWN0ZWQgc2t1OiBbIitkKyJdIiksZH1mdW5jdGlvbiBhKGUpe3dpbmRvdy5zd29nby51aS5nZXRDdXJyZW50UGFnZSgpPT1vJiYodGhpcy5nZXRQcm9kdWN0c0RhdGE9ZSl9ZnVuY3Rpb24gbihvKXtkPW8oKX1mdW5jdGlvbiByKGUsdCl7dC5jbGFzc05hbWU9ZSxnW2VdPXtkYXRhOnQsbG9hZEJ1bmRsZTp0LmxvYWRCdW5kbGV9LHN3b2dvRGVidWcmJndpbmRvdy5zd29nby50b29scy5wcmludExvZygibG9nIiwiYWRkZWQgWyIrZSsiXSBidW5kbGUgdG8gIFsiK28rIl0gcGFnZSIpfWZ1bmN0aW9uIGkoKXtyZXR1cm4gZ31mdW5jdGlvbiBjKG8sdCl7dmFyIHM9Z1tvXSxhPW5ldyBlKHMuZGF0YSk7YS5sb2FkKHMubG9hZEJ1bmRsZSx0KX1mdW5jdGlvbiBsKG8pe3RoaXMub3JkZXJQYXJhbXM9bygpfXZhciBkLHUsZz17fSx3PXtpZDoxfTtyZXR1cm57bmFtZTpvLHNlbGVjdG9yOnQsb3JkZXJQYXJhbXM6dyxnZXRTS1VzOnMsZXh0cmFjdFNLVXM6bixhZGRCdW5kbGU6cixzZXRQcm9kdWN0c0RhdGE6YSxnZXRQcm9kdWN0c0RhdGE6dSxzZXRPcmRlclBhcmFtczpsLGdldFBhZ2VCdW5kbGVzOmksbG9hZEJ1bmRsZTpjfX1mdW5jdGlvbiBlKG8pe2Z1bmN0aW9uIGUoZSxyKXtzd29nb0RlYnVnJiZ3aW5kb3cuc3dvZ28udG9vbHMucHJpbnRMb2coImxvZyIsIlsiK28uY2xhc3NOYW1lKyJdIGV4ZWN1dGUgQnVuZGxlIGxvYWQiKSxyLmhvc3RzLmZvckVhY2goZnVuY3Rpb24oaSxjKXt2YXIgbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtsLnNldEF0dHJpYnV0ZSgiZGF0YS1ob3N0LWluZGV4IixpLnNrdSksdChvLHIsYyksdihvLHN3b2dvLmRpc2NvdW50Q29uZmlnLGkuc2t1KSxzKG8sbCxpLnNrdSksYShvLGwsaS5za3UpLGUobCxjLGZ1bmN0aW9uKGUpe3N3b2dvRGVidWcmJndpbmRvdy5zd29nby50b29scy5wcmludExvZygibG9nIiwiWyIrby5jbGFzc05hbWUrIl0gZXhlY3V0ZSBhdHRhY2hNZXRob2QgQnVuZGxlIik7dmFyIHQ9ZS5nZXRBdHRyaWJ1dGUoImRhdGEtaG9zdC1pbmRleCIpLHM9ZS5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYnVuZGxlIik7cy5mb3JFYWNoKGZ1bmN0aW9uKGUscyl7dmFyIGE9by5idW5kbGVzRGF0YVt0XVtzXTtlLnNldEF0dHJpYnV0ZSgiZGF0YS1ob3N0LWluZGV4Iix0KSxvLmN1c3RvbWl6YXRpb24uYXBwbHlCdW5kbGVEaXNjb3VudCYmby5jdXN0b21pemF0aW9uLmFwcGx5QnVuZGxlRGlzY291bnQoZSxhKSx3aW5kb3cuc3dvZ28uY3VzdG9tTGliLnVwZGF0ZVN1bW1hcnlQcmljZXMoZSxhLG8pLG4oZSxvKX0pLHN3b2dvRGVidWcmJndpbmRvdy5zd29nby50b29scy5wcmludExvZygibG9nIiwiWyIrby5jbGFzc05hbWUrIl0gYXBwbHkgY3VzdG9taXphdGlvbnMiKSxvLmN1c3RvbWl6YXRpb24uZXhlY3V0ZU9uQnVuZGxlTG9hZCYmby5jdXN0b21pemF0aW9uLmV4ZWN1dGVPbkJ1bmRsZUxvYWQoZSl9KX0pfWZ1bmN0aW9uIHQobyxlLHQpe3ZhciBzPVtdLGE9IiIrZS5ob3N0c1t0XS5za3Usbj1vLm1hdGNoaW5nQ29uZmlnJiYoImJhc2tldCI9PW8ubWF0Y2hpbmdDb25maWd8fCJtb2JpbGVCYXNrZXQiPT1vLm1hdGNoaW5nQ29uZmlnKSxyPXdpbmRvdy5zd29nby51aS5nZXRQYWdlKHdpbmRvdy5zd29nby51aS5nZXRDdXJyZW50UGFnZSgpKSxpPXIuZ2V0U0tVcygpfHxbXTtlLmFjY2Vzc29yaWVzW2FdLmZvckVhY2goZnVuY3Rpb24oYSxyKXtvLmRpc3BsYXlSb2xlcy5idW5kbGVzPnImJihzLnB1c2goe2hvc3Q6SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlLmhvc3RzW3RdKSksYWNjZXNzb3JpZXM6W10sb3B0aW9uczpbXSxtZXNzYWdlczpbXX0pLG8uZGlzcGxheVJvbGVzLmhvc3QmJihzW3JdLmhvc3QucXVhbnRpdHk9MSksYS5hY2Nlc3Nvcmllcy5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7by5kaXNwbGF5Um9sZXMuYWNjZXNzb3JpZXM+dCYmKHNbcl0uYWNjZXNzb3JpZXMucHVzaChbXSksZS5mb3JFYWNoKGZ1bmN0aW9uKG8sdCl7biYmaS5pbmRleE9mKG8uc2t1KT49MCYmZS5zcGxpY2UodCwxKX0pLCghZXx8ZS5sZW5ndGgpJiYoc1tyXS5vcHRpb25zLnB1c2goW10pLHNbcl0ub3B0aW9uc1t0XT1bXSxlLmZvckVhY2goZnVuY3Rpb24oZSxhKXtvLmRpc3BsYXlSb2xlcy5hbHRlcm5hdGl2ZXM+YSYmKGUucXVhbnRpdHk9MSxzW3JdLmFjY2Vzc29yaWVzW3RdLnB1c2goZSkpfSkpKX0pLGEubWVzc2FnZXMuZm9yRWFjaChmdW5jdGlvbihvKXt2YXIgZT1zW3JdLm1lc3NhZ2VzJiZzW3JdLm1lc3NhZ2VzWzBdO2UmJmUucHJpb3JpdHkmJm8ucHJpb3JpdHk+PWUucHJpb3JpdHk/c1tyXS5tZXNzYWdlcy51bnNoaWZ0KG8pOnNbcl0ubWVzc2FnZXMucHVzaChvKX0pKX0pLHMuZm9yRWFjaChmdW5jdGlvbihvLGUpe28uYWNjZXNzb3JpZXMuZm9yRWFjaChmdW5jdGlvbih0LGEpe28uYWNjZXNzb3JpZXNbYV0ubGVuZ3RofHxkZWxldGUgc1tlXS5hY2Nlc3Nvcmllc1thXX0pLHNbZV0uYWNjZXNzb3JpZXM9c1tlXS5hY2Nlc3Nvcmllcy5maWx0ZXIoZnVuY3Rpb24obyl7cmV0dXJuIHZvaWQgMCE9b30pLG8mJiFvLmFjY2Vzc29yaWVzLmxlbmd0aCYmZGVsZXRlIHNbZV19KSxzPXMuZmlsdGVyKGZ1bmN0aW9uKG8pe3JldHVybiB2b2lkIDAhPW99KSxvLmJ1bmRsZXNEYXRhW2FdPXN9ZnVuY3Rpb24gcyhvLGUsdCl7ZS5pbm5lckhUTUw9by50ZW1wbGF0ZS5jb250YWluZXI7dmFyIHM9by5idW5kbGVzRGF0YVt0XSxhPWUucXVlcnlTZWxlY3RvcigiLnN3b2dvLWNvbnRhaW5lciIpLG49YS5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tYnVuZGxlIik7d2luZG93LnN3b2dvLnRvb2xzLmFkZENsYXNzKGEsInN3b2dvLWNvbnRhaW5lci0iK28uY2xhc3NOYW1lKSxzLmZvckVhY2goZnVuY3Rpb24oZSx0KXtuLmluc2VydEFkamFjZW50SFRNTCgiYmVmb3JlQmVnaW4iLG8udGVtcGxhdGUuYnVuZGxlKTt2YXIgcz1hLnF1ZXJ5U2VsZWN0b3JBbGwoIi5zd29nby1idW5kbGUiKVt0XSxyPXMucXVlcnlTZWxlY3RvcigiLnN3b2dvLW1haW4iKSxpPXMucXVlcnlTZWxlY3RvcigiLnN3b2dvLWJ1bmRsZS1tZXNzYWdlcyIpLGM9ci5xdWVyeVNlbGVjdG9yKCIuc3dvZ28taG9zdCIpLGw9ci5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tYWNjZXNzb3J5IiksZD1zLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1hbHRlcm5hdGl2ZXMtYm94IiksdT1zLnF1ZXJ5U2VsZWN0b3JBbGwoIi5zd29nby1zdW1tYXJ5Iik7ZS5ob3N0JiZlLmhvc3QucXVhbnRpdHkmJmMuaW5zZXJ0QWRqYWNlbnRIVE1MKCJiZWZvcmVCZWdpbiIsby50ZW1wbGF0ZS5ob3N0KSxlLm1lc3NhZ2VzLmZvckVhY2goZnVuY3Rpb24oKXtpJiZpLmluc2VydEFkamFjZW50SFRNTCgiYmVmb3JlRW5kIiwnPGRpdiBjbGFzcz0ic3dvZ28tYnVuZGxlLW1lc3NhZ2UiIGRhdGEtdGV4dCA9Im1lc3NhZ2UiID48L2Rpdj4nKX0pLGUuYWNjZXNzb3JpZXMuZm9yRWFjaChmdW5jdGlvbihlLHQpe2wuaW5zZXJ0QWRqYWNlbnRIVE1MKCJiZWZvcmVCZWdpbiIsby50ZW1wbGF0ZS5hY2Nlc3NvcnkpLGQuaW5zZXJ0QWRqYWNlbnRIVE1MKCJiZWZvcmVCZWdpbiIsby50ZW1wbGF0ZS5hbHRlcm5hdGl2ZXNCb3gpO3ZhciBhPXMucXVlcnlTZWxlY3RvckFsbCgiLnN3b2dvLWFsdGVybmF0aXZlcy1ib3giKVt0XSxuPWEucXVlcnlTZWxlY3RvcigiLnN3b2dvLWFsdGVybmF0aXZlIik7ZS5mb3JFYWNoKGZ1bmN0aW9uKCl7bi5pbnNlcnRBZGphY2VudEhUTUwoImJlZm9yZUJlZ2luIixvLnRlbXBsYXRlLmFsdGVybmF0aXZlKX0pLG4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKX0pLGQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkKSx1LmZvckVhY2goZnVuY3Rpb24oZSl7ZS5pbnNlcnRBZGphY2VudEhUTUwoImJlZm9yZUJlZ2luIixvLnRlbXBsYXRlLnN1bW1hcnkpLGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKX0pLGMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjKSxsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobCl9KSxuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobil9ZnVuY3Rpb24gYShvLGUsdCl7ZnVuY3Rpb24gcyhvLGUpe3ZhciB0PWUubWVzc2FnZXMscz1vLnF1ZXJ5U2VsZWN0b3JBbGwoIi5zd29nby1idW5kbGUtbWVzc2FnZSIpO3MubGVuZ3RoJiZzLmZvckVhY2goZnVuY3Rpb24obyxzKXtrKG8sdFtzXSksby5zZXRBdHRyaWJ1dGUoIm1lc3NhZ2UtaW5kZXgiLHMpLG8uc2V0QXR0cmlidXRlKCJkYXRhLWhvc3QtaW5kZXgiLGUuaG9zdC5za3UpLHRbc10udHlwZSYmImRpc2NvdW50Ij09PXRbc10udHlwZSYmd2luZG93LnN3b2dvLnRvb2xzLmFkZENsYXNzKG8sInN3b2dvLWRpc2NvdW50LW1lc3NhZ2UiKX0pfWZ1bmN0aW9uIGEobyxlKXt2YXIgdD1vLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1ob3N0Iik7ZS5ob3N0JiZ0PyhlLmhvc3QucXVhbnRpdHk9MSx0LnNldEF0dHJpYnV0ZSgiZGF0YS1ob3N0LWluZGV4IixlLmhvc3Quc2t1KSxrKHQsZSksd2luZG93LnN3b2dvLnRvb2xzLmFkZENsYXNzKHQucXVlcnlTZWxlY3RvcigiLnN3b2dvLXByb2R1Y3QtaW1hZ2UiKSwic3dvZ28tc2VsZWN0ZWQiKSk6d2luZG93LnN3b2dvLnRvb2xzLmFkZENsYXNzKHQsInN3b2dvLWRpc2FibGUiKX1mdW5jdGlvbiBuKG8sZSx0KXt2YXIgcz1vLnF1ZXJ5U2VsZWN0b3JBbGwoIi5zd29nby1hY2Nlc3NvcnkiKTtzLmZvckVhY2goZnVuY3Rpb24obyxzKXtpZihvLnNldEF0dHJpYnV0ZSgiZGF0YS1ob3N0LWluZGV4IixlLmhvc3Quc2t1KSxvLnNldEF0dHJpYnV0ZSgiZGF0YS1idW5kbGUtaWQiLHQpLG8uc2V0QXR0cmlidXRlKCJkYXRhLWFjY2Vzc29yeS1pZCIscyksby5zZXRBdHRyaWJ1dGUoImRhdGEtaWQiLCIwIiksZS5hY2Nlc3Nvcmllc1tzXSYmZS5hY2Nlc3Nvcmllc1tzXS5sZW5ndGgpe2UuYWNjZXNzb3JpZXNbc11bMF0ucXVhbnRpdHk9MSxrKG8se2FjY2Vzc29yeTplLmFjY2Vzc29yaWVzW3NdWzBdfSk7dmFyIGE9by5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYnV0dG9uLWZpbHRlciIpO2EuZm9yRWFjaChmdW5jdGlvbihvKXt2YXIgdD1vLmdldEF0dHJpYnV0ZSgiZGF0YS1maWx0ZXIiKTtlLmFjY2Vzc29yaWVzW3NdWzBdW3RdJiZlLmFjY2Vzc29yaWVzW3NdWzBdW3RdLmxlbmd0aD93aW5kb3cuc3dvZ28udG9vbHMucmVtb3ZlQ2xhc3Mobywic3dvZ28tZGlzYWJsZSIpOndpbmRvdy5zd29nby50b29scy5hZGRDbGFzcyhvLCJzd29nby1kaXNhYmxlIil9KSx3aW5kb3cuc3dvZ28udG9vbHMuYWRkQ2xhc3Moby5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tcHJvZHVjdC1pbWFnZSIpLCJzd29nby1zZWxlY3RlZCIpfWVsc2Ugd2luZG93LnN3b2dvLnRvb2xzLmFkZENsYXNzKG8sInN3b2dvLWRpc2FibGUiKX0pfWZ1bmN0aW9uIHIobyxlLHQpe3ZhciBzPW8ucXVlcnlTZWxlY3RvckFsbCgiLnN3b2dvLWFsdGVybmF0aXZlcy1ib3giKTtzLmZvckVhY2goZnVuY3Rpb24obyxzKXt2YXIgYT1vLnF1ZXJ5U2VsZWN0b3JBbGwoIi5zd29nby1hbHRlcm5hdGl2ZSIpO28uc2V0QXR0cmlidXRlKCJkYXRhLWhvc3QtaW5kZXgiLGUuaG9zdC5za3UpLG8uc2V0QXR0cmlidXRlKCJkYXRhLWJ1bmRsZS1pZCIsdCksby5zZXRBdHRyaWJ1dGUoImRhdGEtYWNjZXNzb3J5LWlkIixzKSxhLmZvckVhY2goZnVuY3Rpb24obyxhKXtpZihvLnNldEF0dHJpYnV0ZSgiZGF0YS1ob3N0LWluZGV4IixlLmhvc3Quc2t1KSxvLnNldEF0dHJpYnV0ZSgiZGF0YS1idW5kbGUtaWQiLHQpLG8uc2V0QXR0cmlidXRlKCJkYXRhLWFjY2Vzc29yeS1pZCIscyksby5zZXRBdHRyaWJ1dGUoImRhdGEtaWQiLGEpLGUuYWNjZXNzb3JpZXNbc11bYV0pe2UuYWNjZXNzb3JpZXNbc11bYV0ucXVhbnRpdHk9MSxrKG8se2FjY2Vzc29yeTplLmFjY2Vzc29yaWVzW3NdW2FdfSk7dmFyIG49by5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYnV0dG9uLWZpbHRlciIpO24uZm9yRWFjaChmdW5jdGlvbihvKXt2YXIgdD1vLmdldEF0dHJpYnV0ZSgiZGF0YS1maWx0ZXIiKTtlLmFjY2Vzc29yaWVzW3NdW2FdW3RdJiZlLmFjY2Vzc29yaWVzW3NdW2FdW3RdLmxlbmd0aD93aW5kb3cuc3dvZ28udG9vbHMucmVtb3ZlQ2xhc3Mobywic3dvZ28tZGlzYWJsZSIpOndpbmRvdy5zd29nby50b29scy5hZGRDbGFzcyhvLCJzd29nby1kaXNhYmxlIil9KX1lbHNlIHdpbmRvdy5zd29nby50b29scy5hZGRDbGFzcyhvLCJzd29nby1kaXNhYmxlIik7MT5hJiZ3aW5kb3cuc3dvZ28udG9vbHMuYWRkQ2xhc3Mobywic3dvZ28tc2VsZWN0ZWQiKSx3aW5kb3cuc3dvZ28udG9vbHMuYWRkQ2xhc3Moby5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tcHJvZHVjdC1pbWFnZSIpLCJzd29nby1zZWxlY3RlZCIpfSl9KX12YXIgaT1vLmJ1bmRsZXNEYXRhW3RdO2Uuc2V0QXR0cmlidXRlKCJkYXRhLWhvc3QtaW5kZXgiLHQpO3ZhciBjPWUucXVlcnlTZWxlY3RvcigiLnN3b2dvLWNvbnRhaW5lciIpLGw9Yy5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYnVuZGxlIik7Yy5zZXRBdHRyaWJ1dGUoImRhdGEtaG9zdC1pbmRleCIsdCksayhlLGkpLGwuZm9yRWFjaChmdW5jdGlvbihvLGUpe3ZhciBjPW8ucXVlcnlTZWxlY3RvcigiLnN3b2dvLW1haW4iKSxsPWlbZV07by5zZXRBdHRyaWJ1dGUoImRhdGEtaWQiLGUpLG8uc2V0QXR0cmlidXRlKCJkYXRhLWhvc3QtaW5kZXgiLHQpLGsobyxsKSxzKG8sbCksYShjLGwpLG4oYyxsLGUpLHIobyxsLGUpfSl9ZnVuY3Rpb24gbihvLGUpe3ZhciB0PW8ucXVlcnlTZWxlY3RvckFsbCgiLnN3b2dvLXN1bW1hcnkgLnN3b2dvLWJ1dHRvbi1hZGQtdG8tY2FydCIpLHM9by5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28taG9zdCwgLnN3b2dvLWFjY2Vzc29yeSwgLnN3b2dvLWFsdGVybmF0aXZlICIpO3MuZm9yRWFjaChmdW5jdGlvbih0KXtyKHQsbyxlKX0pLHQuZm9yRWFjaChmdW5jdGlvbih0KXt3aW5kb3cuc3dvZ28udG9vbHMuYWRkRXZlbnQodCwiY2xpY2siLGZ1bmN0aW9uKHQpe2kodCxvLGUpfSl9KX1mdW5jdGlvbiByKG8sZSx0KXt2YXIgcz1vLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1xdWFudGl0eSIpLGE9by5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tYnV0dG9uLWFkZC10by1jYXJ0Iiksbj1vLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1idXR0b24tYWx0ZXJuYXRpdmVzIikscj1vLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1idXR0b24tc2VsZWN0LWFsdGVybmF0aXZlIiksaT1vLnF1ZXJ5U2VsZWN0b3JBbGwoIi5zd29nby1idXR0b24tZmlsdGVyIiksZz1vLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1idXR0b24tc2VsZWN0LW9wdGlvbiIpO3dpbmRvdy5zd29nby50b29scy5hZGRFdmVudChzLCJjaGFuZ2UiLGZ1bmN0aW9uKHMpe2Yocy50YXJnZXQsbyxlLHQpfSksd2luZG93LnN3b2dvLnRvb2xzLmFkZEV2ZW50KGEsImNsaWNrIixmdW5jdGlvbihzKXtjKHMsbyxlLHQpfSksd2luZG93LnN3b2dvLnRvb2xzLmFkZEV2ZW50KG4sImNsaWNrIixmdW5jdGlvbihzKXtsKHMsbyxlLHQpfSksd2luZG93LnN3b2dvLnRvb2xzLmFkZEV2ZW50KHIsImNsaWNrIixmdW5jdGlvbihzKXtkKHMsbyxlLHQpfSksaS5mb3JFYWNoKGZ1bmN0aW9uKG8pe3dpbmRvdy5zd29nby50b29scy5hZGRFdmVudChvLCJjbGljayIsZnVuY3Rpb24obyl7dShvLGUsdCl9KX0pLHdpbmRvdy5zd29nby50b29scy5hZGRFdmVudChnLCJjbGljayIsZnVuY3Rpb24obyl7dyhvLGUsdCl9KX1mdW5jdGlvbiBpKG8sZSx0KXt2YXIgcz1lLmdldEF0dHJpYnV0ZSgiZGF0YS1pZCIpLGE9ZS5nZXRBdHRyaWJ1dGUoImRhdGEtaG9zdC1pbmRleCIpLG49d2luZG93LnN3b2dvLnRvb2xzLmdldEJ1bmRsZVByb2R1Y3RzRGF0YShlLHQuYnVuZGxlc0RhdGFbYV1bc10pLHI9bi5hY2Nlc3Nvcmllc3x8W10saT17aG9zdDp7fSxhY2Nlc3NvcmllczpbXX07bi5ob3N0JiZuLmhvc3QucXVhbnRpdHkmJihpLmhvc3Q9e2lkOm4uaG9zdC5za3UsY2F0ZWdvcnk6bi5ob3N0LmNhdGVnb3J5LHRpdGxlOm4uaG9zdC50aXRsZSxwcmljZTpuLmhvc3QucHJpY2V9KSxyLmZvckVhY2goZnVuY3Rpb24obyl7by5xdWFudGl0eSYmaS5hY2Nlc3Nvcmllcy5wdXNoKHtpZDpvLnNrdSxjYXRlZ29yeTpvLmNhdGVnb3J5LHRpdGxlOm8udGl0bGUscHJpY2U6by5wcmljZX0pfSksd2luZG93LnN3b2dvLnRvb2xzLnNlbmRUcmFja2luZygiYnVuZGxlTGlzdCIsaSx0LmNsYXNzTmFtZSxmdW5jdGlvbigpe3QuYWRkQ2FydChuLGUpfSl9ZnVuY3Rpb24gYyhvLGUsdCxzKXt2YXIgYT1lLmdldEF0dHJpYnV0ZSgiZGF0YS1ob3N0LWluZGV4Iiksbj1lLmdldEF0dHJpYnV0ZSgiZGF0YS1idW5kbGUtaWQiKSxyPWUuZ2V0QXR0cmlidXRlKCJkYXRhLWFjY2Vzc29yeS1pZCIpLGk9ZS5nZXRBdHRyaWJ1dGUoImRhdGEtaWQiKSxjPWUuZ2V0QXR0cmlidXRlKCJkYXRhLWZpbHRlcnMiKSxsPWM/Im9wdGlvbnMiOiJhY2Nlc3NvcmllcyIsZD1zLmJ1bmRsZXNEYXRhW2FdW25dW2xdW3JdW2ldLHU9e2hvc3Q6e30sYWNjZXNzb3JpZXM6W3tpZDpkLnNrdSxjYXRlZ29yeTpkLmNhdGVnb3J5LHRpdGxlOmQudGl0bGUscHJpY2U6ZC5wcmljZX1dfTt3aW5kb3cuc3dvZ28udG9vbHMuc2VuZFRyYWNraW5nKCJidW5kbGVMaXN0Iix1LHMuY2xhc3NOYW1lLGZ1bmN0aW9uKCl7cy5hZGRDYXJ0KHthY2Nlc3NvcmllczpbZF19LHQpfSl9ZnVuY3Rpb24gbChvLGUsdCl7dmFyIHM9by50YXJnZXQsYT1lLmdldEF0dHJpYnV0ZSgiZGF0YS1hY2Nlc3NvcnktaWQiKSxuPXQucXVlcnlTZWxlY3RvckFsbCgiLnN3b2dvLWFsdGVybmF0aXZlcy1ib3giKSxyPXdpbmRvdy5zd29nby50b29scy5oYXNDbGFzc05hbWUocywic3dvZ28tZW5hYmxlIik7bSh0KSxiKHQpLHJ8fCh3aW5kb3cuc3dvZ28udG9vbHMuYWRkQ2xhc3Mocywic3dvZ28tZW5hYmxlIiksd2luZG93LnN3b2dvLnRvb2xzLmFkZENsYXNzKG5bYV0sInN3b2dvLWVuYWJsZSIpKX1mdW5jdGlvbiBkKG8sZSx0LHMpe3ZhciBhPWUuZ2V0QXR0cmlidXRlKCJkYXRhLWhvc3QtaW5kZXgiKSxuPWUuZ2V0QXR0cmlidXRlKCJkYXRhLWJ1bmRsZS1pZCIpLHI9ZS5nZXRBdHRyaWJ1dGUoImRhdGEtYWNjZXNzb3J5LWlkIiksaT13aW5kb3cuc3dvZ28udG9vbHMuaGFzQ2xhc3NOYW1lKGUsInN3b2dvLWFsdGVybmF0aXZlIik7aWYoaSl7dmFyIGM9dC5xdWVyeVNlbGVjdG9yKCcuc3dvZ28tYWNjZXNzb3J5W2RhdGEtYnVuZGxlLWlkPSInK24rJyJdW2RhdGEtYWNjZXNzb3J5LWlkPSInK3IrJyJdJyksbD1zLmJ1bmRsZXNEYXRhW2FdW25dLGQ9dC5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYWx0ZXJuYXRpdmVzLWJveCIpLHU9ZFtyXS5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYWx0ZXJuYXRpdmUiKSxnPWUucXVlcnlTZWxlY3RvcigiLnN3b2dvLXF1YW50aXR5Iik7IjAiIT1nLnZhbHVlJiYoZy52YWx1ZT0xKSx1LmZvckVhY2goZnVuY3Rpb24obyl7d2luZG93LnN3b2dvLnRvb2xzLnJlbW92ZUNsYXNzKG8sInN3b2dvLXNlbGVjdGVkIil9KSxtKHQpLHAoZSxjLHQscykscy5jdXN0b21pemF0aW9uLmFwcGx5QnVuZGxlRGlzY291bnQmJnMuY3VzdG9taXphdGlvbi5hcHBseUJ1bmRsZURpc2NvdW50KHQsbCksZihnLGUsdCxzKSx3aW5kb3cuc3dvZ28uY3VzdG9tTGliLnVwZGF0ZVN1bW1hcnlQcmljZXModCxzLmJ1bmRsZXNEYXRhW2FdW25dLHMpfX1mdW5jdGlvbiB1KG8sZSx0KXt2YXIgcz1vLnRhcmdldCxhPXMuZ2V0QXR0cmlidXRlKCJkYXRhLWZpbHRlciIpLG49d2luZG93LnN3b2dvLnRvb2xzLmhhc0NsYXNzTmFtZShzLCJzd29nby1lbmFibGUiKSxyPW8udGFyZ2V0LnBhcmVudE5vZGUsaT1yLmdldEF0dHJpYnV0ZSgiZGF0YS1ob3N0LWluZGV4IiksYz1yLmdldEF0dHJpYnV0ZSgiZGF0YS1idW5kbGUtaWQiKSxsPXIuZ2V0QXR0cmlidXRlKCJkYXRhLWFjY2Vzc29yeS1pZCIpLGQ9ci5nZXRBdHRyaWJ1dGUoImRhdGEtaWQiKSx1PXIuZ2V0QXR0cmlidXRlKCJkYXRhLWZpbHRlcnMiKSx3PXU/Im9wdGlvbnMiOiJhY2Nlc3NvcmllcyIscD10LmJ1bmRsZXNEYXRhW2ldW2NdW3ddW2xdW2RdLGY9ZS5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tb3B0aW9ucy1ib3giKTtpZihtKGUpLGIoZSksbilyZXR1cm4gbnVsbDt1PXU/dS5zcGxpdCgiLCIpOltdLHUuaW5kZXhPZihhKTwwJiZ1LnB1c2goYSksZi5pbnNlcnRBZGphY2VudEhUTUwoImJlZm9yZUJlZ2luIix0LnRlbXBsYXRlLm9wdGlvbnNCb3gpO3ZhciB2PWUucXVlcnlTZWxlY3RvcigiLnN3b2dvLW9wdGlvbnMtYm94Iik7di5zZXRBdHRyaWJ1dGUoImRhdGEtYnVuZGxlLWlkIixjKSx2LnNldEF0dHJpYnV0ZSgiZGF0YS1hY2Nlc3NvcnktaWQiLGwpLHYuc2V0QXR0cmlidXRlKCJkYXRhLWZpbHRlcnMiLHUuam9pbigpKSx3aW5kb3cuc3dvZ28uYXBpLmdldE9wdGlvbnModC5jbGFzc05hbWUsWyIiK3Auc2t1XSx1LGZ1bmN0aW9uKG8sYSl7cmV0dXJuIGE/KHQuYnVuZGxlc0RhdGFbaV1bY10ub3B0aW9uc1tsXT1hLm9wdGlvbnMsZyhwLGUpLGYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChmKSx3aW5kb3cuc3dvZ28udG9vbHMuYWRkQ2xhc3Mocywic3dvZ28tZW5hYmxlIiksdm9pZCB3aW5kb3cuc3dvZ28udG9vbHMuYWRkQ2xhc3Modiwic3dvZ28tZW5hYmxlIikpOiExfSl9ZnVuY3Rpb24gZyhlLHQpe3ZhciBzPXQucXVlcnlTZWxlY3RvcigiLnN3b2dvLW9wdGlvbnMtYm94IiksYT10LmdldEF0dHJpYnV0ZSgiZGF0YS1ob3N0LWluZGV4Iiksbj1zLmdldEF0dHJpYnV0ZSgiZGF0YS1idW5kbGUtaWQiKSxpPXMuZ2V0QXR0cmlidXRlKCJkYXRhLWFjY2Vzc29yeS1pZCIpLGM9cy5nZXRBdHRyaWJ1dGUoImRhdGEtZmlsdGVycyIpLGw9cy5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tb3B0aW9uIiksZD1vLmJ1bmRsZXNEYXRhW2FdW25dLm9wdGlvbnNbaV07ZC5mb3JFYWNoKGZ1bmN0aW9uKGQsdSl7aWYodT5vLmRpc3BsYXlSb2xlcy5hbHRlcm5hdGl2ZXMpcmV0dXJuIG51bGw7bC5pbnNlcnRBZGphY2VudEhUTUwoImJlZm9yZUJlZ2luIixvLnRlbXBsYXRlLm9wdGlvbik7dmFyIGc9cy5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tb3B0aW9uIilbdV0sdz1nLnF1ZXJ5U2VsZWN0b3JBbGwoIi5zd29nby1idXR0b24tZmlsdGVyIik7Zy5zZXRBdHRyaWJ1dGUoImRhdGEtaG9zdC1pbmRleCIsYSksZy5zZXRBdHRyaWJ1dGUoImRhdGEtYnVuZGxlLWlkIixuKSxnLnNldEF0dHJpYnV0ZSgiZGF0YS1hY2Nlc3NvcnktaWQiLGkpLGcuc2V0QXR0cmlidXRlKCJkYXRhLWlkIiwiIit1KSxnLnNldEF0dHJpYnV0ZSgiZGF0YS1maWx0ZXJzIixjKSxkLnF1YW50aXR5PTEsdy5mb3JFYWNoKGZ1bmN0aW9uKG8pe3ZhciBlPW8uZ2V0QXR0cmlidXRlKCJkYXRhLWZpbHRlciIpO2RbZV0mJmRbZV0ubGVuZ3RoP3dpbmRvdy5zd29nby50b29scy5yZW1vdmVDbGFzcyhvLCJzd29nby1kaXNhYmxlIik6d2luZG93LnN3b2dvLnRvb2xzLmFkZENsYXNzKG8sInN3b2dvLWRpc2FibGUiKX0pLGsoZyx7YWNjZXNzb3J5OmR9KSx3aW5kb3cuc3dvZ28udG9vbHMuYWRkQ2xhc3MoZy5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tcHJvZHVjdC1pbWFnZSIpLCJzd29nby1zZWxlY3RlZCIpLGUuc2t1PT1kLnNrdSYmd2luZG93LnN3b2dvLnRvb2xzLmFkZENsYXNzKGcsInN3b2dvLXNlbGVjdGVkIikscihnLHQsbyl9KSxsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobCksby5jdXN0b21pemF0aW9uLmV4ZWN1dGVPbk9wdGlvbnNMb2FkJiZvLmN1c3RvbWl6YXRpb24uZXhlY3V0ZU9uT3B0aW9uc0xvYWQodCl9ZnVuY3Rpb24gdyhvLGUsdCl7dmFyIHM9by50YXJnZXQsYT1zLnBhcmVudE5vZGUsbj13aW5kb3cuc3dvZ28udG9vbHMuaGFzQ2xhc3NOYW1lKGEsInN3b2dvLW9wdGlvbiIpO2lmKG4pe3ZhciByPWEuZ2V0QXR0cmlidXRlKCJkYXRhLWhvc3QtaW5kZXgiKSxpPWEuZ2V0QXR0cmlidXRlKCJkYXRhLWJ1bmRsZS1pZCIpLGM9YS5nZXRBdHRyaWJ1dGUoImRhdGEtYWNjZXNzb3J5LWlkIiksbD1lLnF1ZXJ5U2VsZWN0b3IoJy5zd29nby1hY2Nlc3NvcnlbZGF0YS1idW5kbGUtaWQ9IicraSsnIl1bZGF0YS1hY2Nlc3NvcnktaWQ9IicrYysnIl0nKSxkPXQuYnVuZGxlc0RhdGFbcl1baV07cChhLGwsZSx0KSxiKGUpLHQuY3VzdG9taXphdGlvbi5hcHBseUJ1bmRsZURpc2NvdW50JiZ0LmN1c3RvbWl6YXRpb24uYXBwbHlCdW5kbGVEaXNjb3VudChlLGQpLHdpbmRvdy5zd29nby5jdXN0b21MaWIudXBkYXRlU3VtbWFyeVByaWNlcyhlLGQsdCl9fWZ1bmN0aW9uIHAobyxlLHQscyl7dmFyIGE9by5jbG9uZU5vZGUoITApO3dpbmRvdy5zd29nby50b29scy5hZGRDbGFzcyhvLCJzd29nby1zZWxlY3RlZCIpLGEuY2xhc3NOYW1lPSIiLHdpbmRvdy5zd29nby50b29scy5hZGRDbGFzcyhhLCJzd29nby1hY2Nlc3NvcnkiKSxlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsZSksZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpLHIoYSx0LHMpfWZ1bmN0aW9uIGYobyxlLHQscyl7dmFyIGE9d2luZG93LnN3b2dvLnRvb2xzLmhhc0NsYXNzTmFtZShlLCJzd29nby1ob3N0Iiksbj13aW5kb3cuc3dvZ28udG9vbHMuaGFzQ2xhc3NOYW1lKGUsInN3b2dvLWFjY2Vzc29yeSIpLHI9dC5nZXRBdHRyaWJ1dGUoImRhdGEtaG9zdC1pbmRleCIpLGk9dC5nZXRBdHRyaWJ1dGUoImRhdGEtaWQiKSxjPWUuZ2V0QXR0cmlidXRlKCJkYXRhLWFjY2Vzc29yeS1pZCIpLGw9d2luZG93LnN3b2dvLnRvb2xzLmdldEJ1bmRsZVByb2R1Y3RzRGF0YSh0LHMuYnVuZGxlc0RhdGFbcl1baV0pO28udmFsdWU8MT93aW5kb3cuc3dvZ28udG9vbHMuYWRkQ2xhc3MoZSwic3dvZ28taW5hY3RpdmUiKTp3aW5kb3cuc3dvZ28udG9vbHMucmVtb3ZlQ2xhc3MoZSwic3dvZ28taW5hY3RpdmUiKSxhJiYobC5ob3N0LnF1YW50aXR5PXBhcnNlSW50KG8udmFsdWUpKSxuJiYobC5hY2Nlc3Nvcmllc1tjXS5xdWFudGl0eT1wYXJzZUludChvLnZhbHVlKSksKGF8fG4pJiZ3aW5kb3cuc3dvZ28uY3VzdG9tTGliLnVwZGF0ZVN1bW1hcnlQcmljZXModCxzLmJ1bmRsZXNEYXRhW3JdW2ldLHMpfWZ1bmN0aW9uIG0obyl7dmFyIGU9by5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYWx0ZXJuYXRpdmVzLWJveCIpLHQ9by5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYnV0dG9uLWFsdGVybmF0aXZlcyIpO2UuZm9yRWFjaChmdW5jdGlvbihvKXt3aW5kb3cuc3dvZ28udG9vbHMucmVtb3ZlQ2xhc3Mobywic3dvZ28tZW5hYmxlIil9KSx0LmZvckVhY2goZnVuY3Rpb24obyl7d2luZG93LnN3b2dvLnRvb2xzLnJlbW92ZUNsYXNzKG8sInN3b2dvLWVuYWJsZSIpfSl9ZnVuY3Rpb24gYihvKXt2YXIgZT1vLnF1ZXJ5U2VsZWN0b3JBbGwoIi5zd29nby1vcHRpb25zLWJveCIpLHQ9by5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYnV0dG9uLWZpbHRlciIpO2UuZm9yRWFjaChmdW5jdGlvbihvKXt3aW5kb3cuc3dvZ28udG9vbHMucmVtb3ZlQ2xhc3Mobywic3dvZ28tZW5hYmxlIil9KSx0LmZvckVhY2goZnVuY3Rpb24obyl7d2luZG93LnN3b2dvLnRvb2xzLnJlbW92ZUNsYXNzKG8sInN3b2dvLWVuYWJsZSIpfSl9ZnVuY3Rpb24gdihvLGUsdCl7dmFyIHM9by5idW5kbGVzRGF0YVt0XTtzLmZvckVhY2goZnVuY3Rpb24obyx0KXtoKG8sZSksby50ZW1wTWVzc2FnZXM9W10sby5tZXNzYWdlcy5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7dmFyIHM9by50ZW1wTWVzc2FnZXMmJm8udGVtcE1lc3NhZ2VzWzBdOygwPj10fHxzJiZzLm1lc3NhZ2UhPT1lLm1lc3NhZ2UpJiYocyYmcy5wcmlvcml0eSYmZS5wcmlvcml0eT49cy5wcmlvcml0eT9vLnRlbXBNZXNzYWdlcy51bnNoaWZ0KGUpOm8udGVtcE1lc3NhZ2VzLnB1c2goZSkpfSksby5tZXNzYWdlcz1zW3RdLnRlbXBNZXNzYWdlc30pfWZ1bmN0aW9uIGgobyxlKXtlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9eShlKTtpZih0JiYodD1TKGUsby5ob3N0KSksdClzd2l0Y2goZS50eXBlKXtjYXNlImZpeGVkIjpxKG8sZSk7YnJlYWs7Y2FzZSJidW5kbGUiOkEobyxlKTticmVhaztjYXNlImFjY2Vzc29yeSI6QyhvLGUpO2JyZWFrO2RlZmF1bHQ6QyhvLGUpfX0pfWZ1bmN0aW9uIHkobyl7dmFyIGU9RGF0ZS5ub3coKSx0PW8uc3RhcnREYXRlLnNwbGl0KCItIikscz1vLmVuZERhdGUuc3BsaXQoIi0iKSxhPXRbMF18fCIzMDAwIixuPXBhcnNlSW50KHRbMV0pLTEscj10WzJdfHwiMSIsaT1vLnN0YXJ0SG91cnx8IjAiLGM9c1swXXx8IjE5OTciLGw9cGFyc2VJbnQoc1sxXSktMSxkPXNbMl18fCIxIix1PW8uZW5kSG91cnx8IjAiLGc9bmV3IERhdGUoYSxuLHIsaSkuZ2V0VGltZSgpLHc9bmV3IERhdGUoYyxsLGQsdSkuZ2V0VGltZSgpO3JldHVybiBlPj1nJiZ3Pj1lfWZ1bmN0aW9uIFMobyxlKXtyZXR1cm4gby5ob3N0Q2F0ZWdvcnkmJm8uaG9zdENhdGVnb3J5LmluZGV4T2YoZS5jYXRlZ29yeSk+PTB8fG8uaG9zdFNrdXMmJm8uaG9zdFNrdXMuaW5kZXhPZihlLnNrdSk+PTB9ZnVuY3Rpb24gcSgpe31mdW5jdGlvbiBBKCl7fWZ1bmN0aW9uIEMobyxlKXt2YXIgdD1vLmFjY2Vzc29yaWVzO3QuZm9yRWFjaChmdW5jdGlvbih0KXt0LmZvckVhY2goZnVuY3Rpb24odCl7dmFyIHM9IXQuZGlzY291bnRWYWx1ZSYmZS5hY2Nlc3NvcnlDYXRlZ29yaWVzLmluZGV4T2YodC5jYXRlZ29yeSk+PTB8fGUuYWNjZXNzb3J5U2t1cy5pbmRleE9mKHQuc2t1KT49MDtzJiYtMT09PXMmJihzPSExKSxzJiYodC5kaXNjb3VudFZhbHVlPWVbImlzUGVyc2VudCgwLzEpIl0/dC5wcmljZSooMTAtcGFyc2VGbG9hdChlLnZhbHVlKS8xMCkqLTE6LTEqcGFyc2VGbG9hdChlLnZhbHVlKSxvLm1lc3NhZ2VzLnB1c2goe21lc3NhZ2U6ZS5kZXNjcmlwdGlvbixwcmlvcml0eToyLHR5cGU6ImRpc2NvdW50In0pKX0pfSl9ZnVuY3Rpb24gayhvLGUpe2Zvcih2YXIgdD13aW5kb3cuc3dvZ28udG9vbHMuZ2V0RGF0YUF0dHJpYnV0ZXMobykscz0wO3M8dC5sZW5ndGg7cysrKXt2YXIgYT10W3NdLG49by5nZXRBdHRyaWJ1dGUoYSkscj1MKG4sZSk7aWYocil7dmFyIGk9ciYmIm9iamVjdCI9PXR5cGVvZiByJiZyLmxlbmd0aDtpP3gobyxhLHIpOkUobyxhLHIpfX1mb3IodmFyIGM9by5jaGlsZHJlbixsPTA7bDxjLmxlbmd0aDtsKyspayhjW2xdLGUpfWZ1bmN0aW9uIHgobyxlLHQpe2Zvcih2YXIgcz0xO3M8dC5sZW5ndGg7cysrKXt2YXIgYT1vLmNsb25lTm9kZSghMCk7by5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGEpLEUoYSxlLHRbc10pfUUobyxlLHRbMF0pfWZ1bmN0aW9uIEwobyxlKXtmb3IodmFyIHQ9by5zcGxpdCgiLiIpLHM9ZSxhPTA7YTx0Lmxlbmd0aDthKyspe3ZhciBuPXRbYV07cz1zW25dP3Nbbl06IiJ9cmV0dXJuIHN9ZnVuY3Rpb24gRShvLGUsdCl7dCYmby5yZW1vdmVBdHRyaWJ1dGUoZSksImRhdGEtc3JjIj09ZT9vLnNldEF0dHJpYnV0ZSgic3JjIix0KToiZGF0YS1ocmVmIj09ZT9vLnNldEF0dHJpYnV0ZSgiaHJlZiIsdCk6ImRhdGEtYWx0Ij09ZT9vLnNldEF0dHJpYnV0ZSgiYWx0Iix0KToiZGF0YS10aXRsZSI9PWU/by5zZXRBdHRyaWJ1dGUoInRpdGxlIix0KToiZGF0YS10ZXh0Ij09ZSYmby5pbnNlcnRBZGphY2VudEhUTUwoImJlZm9yZUVuZCIsdCl9cmV0dXJuIG8uYnVuZGxlc0RhdGE9e30se2xvYWQ6ZSxwb3B1bGF0ZUF0dHJpYnV0ZTpFfX1mdW5jdGlvbiB0KG8pe2Z1bmN0aW9uIGUobyl7ZnVuY3Rpb24gZShvKXt2YXIgZT1zLmdldFByb2R1Y3RzRGF0YSgpO3dpbmRvdy5Td29nby5iYXNrZXRJdGVtcyE9PUpTT04uc3RyaW5naWZ5KGUpJiYod2luZG93LlN3b2dvLmJhc2tldEl0ZW1zPUpTT04uc3RyaW5naWZ5KGUpLHdpbmRvdy5zd29nby50b29scy5zZW5kVHJhY2tpbmcoImJhc2tldExpc3QiLGUsbykpfXdpbmRvdy5Td29nby50cmFja2luZ0ludGVydmFsfHwod2luZG93LlN3b2dvLnRyYWNraW5nSW50ZXJ2YWw9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtlKG8pfSw1MDApKX1mdW5jdGlvbiB0KG8pe3dpbmRvdy5zd29nby50b29scy5zZW5kVHJhY2tpbmcoInBheW1lbnQiLHMub3JkZXJQYXJhbXMsbyxmdW5jdGlvbigpe3dpbmRvdy5zd29nby50b29scy5zZXRUcmFja2luZ1VzZXIoIiIpfSl9dmFyIHM9d2luZG93LnN3b2dvLnVpLmdldFBhZ2Uobyk7c3dpdGNoKG8pe2Nhc2UiYmFza2V0IjplKG8pO2JyZWFrO2Nhc2UiYmFza2V0LW1vYmlsZSI6ZShvKTticmVhaztjYXNlInBheW1lbnQiOnQobyl9fWZ1bmN0aW9uIHMoKXtmdW5jdGlvbiBvKG8pe28/c3dvZ28uZGlzY291bnRDb25maWc9SlNPTi5wYXJzZShvKTpzd29nb0RlYnVnJiZzd29nby50b29scy5wcmludExvZygid2FybmluZyIsIltDb3JlXSBtaXNzaW5nIGRpc2NvdW50IGNvbmZpZywgbWFrZSBzdXJlIHRoaXMgZmlsZSBleGlzdCBvbiBTMyBCdWNrZXQiKX12YXIgZT0iaHR0cHM6Ly9kaXNjb3VudHMueHNlbGxhcHAuY29tLyIrd2luZG93LnN3b2dvLnBhcmFtcy5uYW1lKyIuanNvbiI7d2luZG93LnN3b2dvLnRvb2xzLmFqYXhSZXF1ZXN0KHt1cmw6ZSxwYXlsb2FkOiIifSxvLG8pfWZ1bmN0aW9uIGEoKXt2YXIgbz13aW5kb3cuc3dvZ28udWkuZ2V0Q3VycmVudFBhZ2UoKTtpZih3aW5kb3cuc3dvZ28uZGlzY291bnRDb25maWc9W10sIW8pcmV0dXJuIHN3b2dvRGVidWcmJndpbmRvdy5zd29nby50b29scy5wcmludExvZygiZXJyb3IiLCJwYWdlIG5vdCBkZXRlY3RlZCA+PiBjaGVjayB3aW5kb3cuc3dvZ28udWkuc2V0UGFnZSIpLCExO3QobykscygpLHdpbmRvdy5zd29nby5hcGkuc2V0Q2xpZW50KHdpbmRvdy5zd29nby5wYXJhbXMubmFtZSksd2luZG93LnN3b2dvLmFwaS5zZXRMYW5ndWFnZUNvZGUod2luZG93LnN3b2dvLnBhcmFtcy5sYW5ndWFnZSksd2luZG93LnN3b2dvLmFwaS5zZXRMZWdhY3koMCk7dmFyIGU9d2luZG93LnN3b2dvLnVpLmdldFBhZ2UobykuZ2V0U0tVcygpLGE9d2luZG93LnN3b2dvLnVpLmdldFBhZ2UobykuZ2V0UGFnZUJ1bmRsZXMoKSxuPU9iamVjdC5rZXlzKGEpOyFzd29nb0RlYnVnfHxuJiZuLmxlbmd0aHx8d2luZG93LnN3b2dvLnRvb2xzLnByaW50TG9nKCJ3YXJuaW5nIiwibm8gYnVuZGxlVHlwZXMgZm91bmQgb24gdGhhdCBwYWdlID4+IGNoZWNrIFBBR0UuYWRkYnVuZGxlIiksIXN3b2dvRGVidWd8fGUmJmUubGVuZ3RofHx3aW5kb3cuc3dvZ28udG9vbHMucHJpbnRMb2coIndhcm5pbmciLCJubyBza3VzIGZvdW5kIG9uIHRoYXQgcGFnZSA+PiBjaGVjayBQQUdFLmV4dHJhY3RTS1VzIiksbi5mb3JFYWNoKGZ1bmN0aW9uKG8pe3ZhciB0PWFbb10uZGF0YS5tYXRjaGluZ0NvbmZpZ3x8InBkcCI7d2luZG93LnN3b2dvLmFwaS5nZXRCdW5kbGVzKHQsZSx7fSxmdW5jdGlvbihlLHQpe3JldHVybiBzd29nb0RlYnVnJiZlJiZlLmxlbmd0aD93aW5kb3cuc3dvZ28udG9vbHMucHJpbnRMb2coImVycm9yIixlKTp0JiZ0Lmhvc3RzP3ZvaWQgd2luZG93LnN3b2dvLnVpLmxvYWQobyx0KTp3aW5kb3cuc3dvZ28udG9vbHMucHJpbnRMb2coIndhcm5pbmciLCJubyBob3N0IGRhdGEgZnJvbSBBUEkiKX0pfSl9ZnVuY3Rpb24gbigpe3JldHVybiBkfWZ1bmN0aW9uIHIoKXtyZXR1cm4gY31mdW5jdGlvbiBpKCl7cmV0dXJuIGx9dmFyIGM9e2lzU3RvcmFnZVN1cHBvcnRlZDpmdW5jdGlvbigpe3RyeXtyZXR1cm4gc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgidGVzdFNlc3Npb24iLCIxIiksc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgidGVzdFNlc3Npb24iKSwhMH1jYXRjaChvKXtyZXR1cm4hMX19KCksc2V0Q29va2llOmZ1bmN0aW9uKG8sZSx0KXt2YXIgcz1uZXcgRGF0ZTtzLnNldFRpbWUocy5nZXRUaW1lKCkrMjQqdCo2MCo2MCoxZTMpLGRvY3VtZW50LmNvb2tpZT1vKyI9IitlKyI7ZXhwaXJlcz0iK3MudG9VVENTdHJpbmcoKSsiO3BhdGg9LyJ9LGdldENvb2tpZTpmdW5jdGlvbihvKXtmb3IodmFyIGU9ZGVjb2RlVVJJQ29tcG9uZW50KGRvY3VtZW50LmNvb2tpZSkuc3BsaXQoIjsiKSx0PTA7dDxlLmxlbmd0aDt0Kyspe2Zvcih2YXIgcz1lW3RdOyIgIj09cy5jaGFyQXQoMCk7KXM9cy5zdWJzdHJpbmcoMSk7aWYoMD09cy5pbmRleE9mKG8rIj0iKSlyZXR1cm4gcy5zdWJzdHJpbmcoKG8rIj0iKS5sZW5ndGgscy5sZW5ndGgpfXJldHVybiBudWxsfSxpc01vYmlsZTpmdW5jdGlvbigpe3ZhciBvPSExO3JldHVybiBmdW5jdGlvbihlKXsoLyhhbmRyb2lkfGJiXGQrfG1lZWdvKS4rbW9iaWxlfGF2YW50Z298YmFkYVwvfGJsYWNrYmVycnl8YmxhemVyfGNvbXBhbHxlbGFpbmV8ZmVubmVjfGhpcHRvcHxpZW1vYmlsZXxpcChob25lfG9kKXxpcmlzfGtpbmRsZXxsZ2UgfG1hZW1vfG1pZHB8bW1wfG1vYmlsZS4rZmlyZWZveHxuZXRmcm9udHxvcGVyYSBtKG9ifGluKWl8cGFsbSggb3MpP3xwaG9uZXxwKGl4aXxyZSlcL3xwbHVja2VyfHBvY2tldHxwc3B8c2VyaWVzKDR8NikwfHN5bWJpYW58dHJlb3x1cFwuKGJyb3dzZXJ8bGluayl8dm9kYWZvbmV8d2FwfHdpbmRvd3MgKGNlfHBob25lKXx4ZGF8eGlpbm8vaS50ZXN0KGUpfHwvMTIwN3w2MzEwfDY1OTB8M2dzb3w0dGhwfDUwWzEtNl1pfDc3MHN8ODAyc3xhIHdhfGFiYWN8YWMoZXJ8b298c1wtKXxhaShrb3xybil8YWwoYXZ8Y2F8Y28pfGFtb2l8YW4oZXh8bnl8eXcpfGFwdHV8YXIoY2h8Z28pfGFzKHRlfHVzKXxhdHR3fGF1KGRpfFwtbXxyIHxzICl8YXZhbnxiZShja3xsbHxucSl8YmkobGJ8cmQpfGJsKGFjfGF6KXxicihlfHYpd3xidW1ifGJ3XC0obnx1KXxjNTVcL3xjYXBpfGNjd2F8Y2RtXC18Y2VsbHxjaHRtfGNsZGN8Y21kXC18Y28obXB8bmQpfGNyYXd8ZGEoaXR8bGx8bmcpfGRidGV8ZGNcLXN8ZGV2aXxkaWNhfGRtb2J8ZG8oY3xwKW98ZHMoMTJ8XC1kKXxlbCg0OXxhaSl8ZW0obDJ8dWwpfGVyKGljfGswKXxlc2w4fGV6KFs0LTddMHxvc3x3YXx6ZSl8ZmV0Y3xmbHkoXC18Xyl8ZzEgdXxnNTYwfGdlbmV8Z2ZcLTV8Z1wtbW98Z28oXC53fG9kKXxncihhZHx1bil8aGFpZXxoY2l0fGhkXC0obXxwfHQpfGhlaVwtfGhpKHB0fHRhKXxocCggaXxpcCl8aHNcLWN8aHQoYyhcLXwgfF98YXxnfHB8c3x0KXx0cCl8aHUoYXd8dGMpfGlcLSgyMHxnb3xtYSl8aTIzMHxpYWMoIHxcLXxcLyl8aWJyb3xpZGVhfGlnMDF8aWtvbXxpbTFrfGlubm98aXBhcXxpcmlzfGphKHR8dilhfGpicm98amVtdXxqaWdzfGtkZGl8a2VqaXxrZ3QoIHxcLyl8a2xvbnxrcHQgfGt3Y1wtfGt5byhjfGspfGxlKG5vfHhpKXxsZyggZ3xcLyhrfGx8dSl8NTB8NTR8XC1bYS13XSl8bGlid3xseW54fG0xXC13fG0zZ2F8bTUwXC98bWEodGV8dWl8eG8pfG1jKDAxfDIxfGNhKXxtXC1jcnxtZShyY3xyaSl8bWkobzh8b2F8dHMpfG1tZWZ8bW8oMDF8MDJ8Yml8ZGV8ZG98dChcLXwgfG98dil8enopfG10KDUwfHAxfHYgKXxtd2JwfG15d2F8bjEwWzAtMl18bjIwWzItM118bjMwKDB8Mil8bjUwKDB8Mnw1KXxuNygwKDB8MSl8MTApfG5lKChjfG0pXC18b258dGZ8d2Z8d2d8d3QpfG5vayg2fGkpfG56cGh8bzJpbXxvcCh0aXx3dil8b3Jhbnxvd2cxfHA4MDB8cGFuKGF8ZHx0KXxwZHhnfHBnKDEzfFwtKFsxLThdfGMpKXxwaGlsfHBpcmV8cGwoYXl8dWMpfHBuXC0yfHBvKGNrfHJ0fHNlKXxwcm94fHBzaW98cHRcLWd8cWFcLWF8cWMoMDd8MTJ8MjF8MzJ8NjB8XC1bMi03XXxpXC0pfHF0ZWt8cjM4MHxyNjAwfHJha3N8cmltOXxybyh2ZXx6byl8czU1XC98c2EoZ2V8bWF8bW18bXN8bnl8dmEpfHNjKDAxfGhcLXxvb3xwXC0pfHNka1wvfHNlKGMoXC18MHwxKXw0N3xtY3xuZHxyaSl8c2doXC18c2hhcnxzaWUoXC18bSl8c2tcLTB8c2woNDV8aWQpfHNtKGFsfGFyfGIzfGl0fHQ1KXxzbyhmdHxueSl8c3AoMDF8aFwtfHZcLXx2ICl8c3koMDF8bWIpfHQyKDE4fDUwKXx0NigwMHwxMHwxOCl8dGEoZ3R8bGspfHRjbFwtfHRkZ1wtfHRlbChpfG0pfHRpbVwtfHRcLW1vfHRvKHBsfHNoKXx0cyg3MHxtXC18bTN8bTUpfHR4XC05fHVwKFwuYnxnMXxzaSl8dXRzdHx2NDAwfHY3NTB8dmVyaXx2aShyZ3x0ZSl8dmsoNDB8NVswLTNdfFwtdil8dm00MHx2b2RhfHZ1bGN8dngoNTJ8NTN8NjB8NjF8NzB8ODB8ODF8ODN8ODV8OTgpfHczYyhcLXwgKXx3ZWJjfHdoaXR8d2koZyB8bmN8bncpfHdtbGJ8d29udXx4NzAwfHlhc1wtfHlvdXJ8emV0b3x6dGVcLS9pLnRlc3QoZS5zdWJzdHIoMCw0KSkpJiYobz0hMCl9KG5hdmlnYXRvci51c2VyQWdlbnR8fG5hdmlnYXRvci52ZW5kb3J8fG9wZXJhKSxvfSgpLGFkZENsYXNzOmZ1bmN0aW9uKG8sZSl7aWYoIXRoaXMuaGFzQ2xhc3NOYW1lKG8sZSkmJm8pe3ZhciB0PW8uZ2V0QXR0cmlidXRlKCJjbGFzcyIpO28uY2xhc3NOYW1lPXQ/dCsiICIrZTplfXJldHVybiBvfSxyZW1vdmVDbGFzczpmdW5jdGlvbihvLGUpe3ZhciB0O3JldHVybiB0aGlzLmhhc0NsYXNzTmFtZShvLGUpJiYodD1vLmdldEF0dHJpYnV0ZSgiY2xhc3MiKS5zcGxpdCgiICIpLHQuc3BsaWNlKHQuaW5kZXhPZihlKSwxKSwoIm51bGwiPT10WzBdfHwiIj09dFswXSkmJnQuc2hpZnQoKSxvLmNsYXNzTmFtZT10LmpvaW4oIiAiKSksb30saGFzQ2xhc3NOYW1lOmZ1bmN0aW9uKG8sZSl7dmFyIHQscz0tMTtyZXR1cm4gbyYmKHQ9by5nZXRBdHRyaWJ1dGUoImNsYXNzIik/by5nZXRBdHRyaWJ1dGUoImNsYXNzIikuc3BsaXQoIiAiKTpbXSxzPXQuaW5kZXhPZihlKSkscz49MH0sYWRkRXZlbnQ6ZnVuY3Rpb24obyxlLHQpe3JldHVybiBvPyhvLmFkZEV2ZW50TGlzdGVuZXI/by5hZGRFdmVudExpc3RlbmVyKGUsdCwhMSk6by5hdHRhY2hFdmVudD9vLmF0dGFjaEV2ZW50KCJvbiIrZSx0KTpvWyJvbiIrZV09dCx0aGlzKTp2b2lkIDB9LHByaW50TG9nOmZ1bmN0aW9uKG8sZSl7dmFyIHQ9e2JhY2tncm91bmQ6IiNmZmYiLGNvbG9yOiIjMDAwIn07c3dpdGNoKG8pe2Nhc2UibG9nIjp0LmJhY2tncm91bmQ9IiMwYTk5ZmYiLHQuY29sb3I9IiNmZmYiO2JyZWFrO2Nhc2UiZXJyb3IiOnQuYmFja2dyb3VuZD0iI2ZmY2ZjZiIsdC5jb2xvcj0iI2RmMDAwMCI7YnJlYWs7Y2FzZSJ3YXJuaW5nIjp0LmJhY2tncm91bmQ9IiNmZGNhNTgiLHQuY29sb3I9IiNkNjYzMDAifWNvbnNvbGUubG9nKCIlYyBTV09HTy0iK28rIiA6IiwiYmFja2dyb3VuZDogIit0LmJhY2tncm91bmQrIjsgY29sb3I6ICIrdC5jb2xvcixlKX0sYWpheFJlcXVlc3Q6ZnVuY3Rpb24obyxlLHQpe2Z1bmN0aW9uIHMoKXtyZXR1cm4gYS5zdGF0dXM8NDAwPygiZ2V0Ij09aSYmd2luZG93LnN3b2dvLnRvb2xzLmlzU3RvcmFnZVN1cHBvcnRlZCYmKHNlc3Npb25TdG9yYWdlW28udXJsXT1hLnJlc3BvbnNlVGV4dCksdm9pZCBlKGEucmVzcG9uc2VUZXh0KSk6dChhLnN0YXR1c1RleHQpfXZhciBhPW5ldyBYTUxIdHRwUmVxdWVzdCxuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKS5pbmRleE9mKCJYRG9tYWluUmVxdWVzdCIpPj0wLHI9by5wYXlsb2FkP28ucGF5bG9hZDoiIixpPW8ubWV0aG9kP28ubWV0aG9kLnRvTG93ZXJDYXNlKCk6ImdldCIsYz1vLnR5cGUmJiJqc29uIj09PW8udHlwZSxsPW8uY2FjaGVkJiZ3aW5kb3cuc3dvZ28udG9vbHMuaXNTdG9yYWdlU3VwcG9ydGVkJiZzZXNzaW9uU3RvcmFnZVtvLnVybF07cmV0dXJuIGw/ZShzZXNzaW9uU3RvcmFnZVtvLnVybF0pOihuJiYiZ2V0Ij09aSYmKGE9bmV3IFhEb21haW5SZXF1ZXN0KSx0fHwodD1mdW5jdGlvbigpe30pLGEub25lcnJvcj10LGEub250aW1lb3V0PXQsYS5vbmxvYWQ9cywiZ2V0Ij09aT9hLm9wZW4oaSxvLnVybCsiPyIrciwhMCk6YS5vcGVuKG8ubWV0aG9kLG8udXJsKSxufHxjfHxhLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtdHlwZSIsImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpLCJnZXQiPT1pJiZjJiZhLm92ZXJyaWRlTWltZVR5cGUmJmEub3ZlcnJpZGVNaW1lVHlwZSgidGV4dC9wbGFpbiIpLCJwb3N0Ij09aSYmYyYmYS5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LXR5cGUiLCJhcHBsaWNhdGlvbi9qc29uIiksdm9pZCBhLnNlbmQocikpfSxnZXREYXRhQXR0cmlidXRlczpmdW5jdGlvbihvKXtpZighbylyZXR1cm5bXTtmb3IodmFyIGU9MCx0PW8uYXR0cmlidXRlcyxzPXQubGVuZ3RoLGE9W107cz5lO2UrKyl0W2VdLm5vZGVOYW1lLmluZGV4T2YoImRhdGEtIik8MHx8YS5wdXNoKHRbZV0ubm9kZU5hbWUpO3JldHVybiBhfSxnZXRCdW5kbGVQcm9kdWN0c0RhdGE6ZnVuY3Rpb24obyxlKXt2YXIgdD17YWNjZXNzb3JpZXM6W119LHM9by5xdWVyeVNlbGVjdG9yKCIuc3dvZ28taG9zdCIpLGE9by5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYWNjZXNzb3J5Om5vdCguc3dvZ28tZGlzYWJsZSkiKTtzJiYodC5ob3N0PWUuaG9zdCk7Zm9yKHZhciBuPTA7bjxhLmxlbmd0aDtuKyspe3ZhciByPWFbbl0saT1yLmdldEF0dHJpYnV0ZSgiZGF0YS1pZCIpLGM9ci5nZXRBdHRyaWJ1dGUoImRhdGEtZmlsdGVycyIpLGw9Yz8ib3B0aW9ucyI6ImFjY2Vzc29yaWVzIixkPWVbbF1bbl1baV07ZCYmdC5hY2Nlc3Nvcmllcy5wdXNoKGQpfXJldHVybiB0fSxnZXRUcmFja2luZ1VzZXI6ZnVuY3Rpb24oKXt2YXIgbz13aW5kb3cuc3dvZ28udG9vbHMuZ2V0Q29va2llKCJzd29nb1VzZXJJZCIpO3JldHVybiBvP286dGhpcy5zZXRUcmFja2luZ1VzZXIoKX0sc2V0VHJhY2tpbmdVc2VyOmZ1bmN0aW9uKG8pe3JldHVybiBvfHwobz13aW5kb3cuc3dvZ28udG9vbHMuZ2V0Q29va2llKCJzd29nb1VzZXJJZCIpKSxvfHwobz0iYW5vbi4iK01hdGgucmFuZG9tKCkpLHdpbmRvdy5zd29nby50b29scy5zZXRDb29raWUoInN3b2dvVXNlcklkIixvKSxvfSxzZW5kVHJhY2tpbmc6ZnVuY3Rpb24obyxlLHQscyl7ZnVuY3Rpb24gYShvKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KG8pKyI9IitlbmNvZGVVUklDb21wb25lbnQocltvXSl9dmFyIG49d2luZG93LnN3b2dvLnBhcmFtcyYmd2luZG93LnN3b2dvLnBhcmFtcy5uYW1lJiZ3aW5kb3cuc3dvZ28ucGFyYW1zLm5hbWUudG9Mb3dlckNhc2UoKXx8InRlc3QiLHI9e2NsaWVudDpuKyJfIitNYXRoLnBvdyhuLmxlbmd0aCwyKSx2YXJpYW50OndpbmRvdy5zd29nby5wYXJhbXMmJndpbmRvdy5zd29nby5wYXJhbXMudmFyaWFudHx8IkEiLHR5cGU6byxvcmlnaW46dHx8IiIsdXNlcjp3aW5kb3cuc3dvZ28udG9vbHMuZ2V0VHJhY2tpbmdVc2VyKCl9OyJwYXltZW50Ij09bz9yLnBheT1KU09OLnN0cmluZ2lmeShlKTpyLmJ1bmRsZURhdGE9SlNPTi5zdHJpbmdpZnkoZSk7dmFyIGk9T2JqZWN0LmtleXMocikubWFwKGEpLmpvaW4oIiYiKTtzfHwocz1mdW5jdGlvbigpe30pLHdpbmRvdy5zd29nby50b29scy5hamF4UmVxdWVzdCh7dXJsOiJodHRwczovL3RyYWNraW5nLnhzZWxsYXBwLmNvbS8iLHBheWxvYWQ6aX0sZnVuY3Rpb24obyl7c3dvZ29EZWJ1ZyYmd2luZG93LnN3b2dvLnRvb2xzLnByaW50TG9nKCJsb2ciLCJbIHRyYWNraW5nIF0gIitvKSxzKCl9LGZ1bmN0aW9uKG8pe3N3b2dvRGVidWcmJndpbmRvdy5zd29nby50b29scy5wcmludExvZygiZXJyb3IiLCJbIHRyYWNraW5nIF0gIitvKSxzKCl9KX19LGw9e3Nob3dNb3JlQnVuZGxlczpmdW5jdGlvbihvLGUpe2Z1bmN0aW9uIHQobyxlLHQpe3ZhciBzPW8udGFyZ2V0LGE9ZS5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tY292ZXIiKSxuPWUucXVlcnlTZWxlY3RvckFsbCgiLnN3b2dvLWJ1bmRsZSIpO2lmKHdpbmRvdy5zd29nby50b29scy5oYXNDbGFzc05hbWUocywic3dvZ28tYWN0aW9uLWNsb3NlIikpe2Zvcih2YXIgcj0wO3I8bi5sZW5ndGg7cisrKXdpbmRvdy5zd29nby50b29scy5yZW1vdmVDbGFzcyhuW3JdLCJzd29nby1oaWRkZW4iKTt3aW5kb3cuc3dvZ28udG9vbHMucmVtb3ZlQ2xhc3Mocywic3dvZ28tYWN0aW9uLWNsb3NlIiksd2luZG93LnN3b2dvLnRvb2xzLmFkZENsYXNzKHMsInN3b2dvLWFjdGlvbi1vcGVuIiksYSYmKHdpbmRvdy5zd29nby50b29scy5yZW1vdmVDbGFzcyhhLCJzd29nby1hY3Rpb24tY2xvc2UiKSx3aW5kb3cuc3dvZ28udG9vbHMuYWRkQ2xhc3MoYSwic3dvZ28tYWN0aW9uLW9wZW4iKSl9ZWxzZXtmb3IodmFyIGk9MDtpPG4ubGVuZ3RoO2krKyl0Pml8fHdpbmRvdy5zd29nby50b29scy5hZGRDbGFzcyhuW2ldLCJzd29nby1oaWRkZW4iKTt3aW5kb3cuc3dvZ28udG9vbHMucmVtb3ZlQ2xhc3Mocywic3dvZ28tYWN0aW9uLW9wZW4iKSx3aW5kb3cuc3dvZ28udG9vbHMuYWRkQ2xhc3Mocywic3dvZ28tYWN0aW9uLWNsb3NlIiksYSYmKHdpbmRvdy5zd29nby50b29scy5yZW1vdmVDbGFzcyhhLCJzd29nby1hY3Rpb24tb3BlbiIpLHdpbmRvdy5zd29nby50b29scy5hZGRDbGFzcyhhLCJzd29nby1hY3Rpb24tY2xvc2UiKSl9fXZhciBzPW8ucXVlcnlTZWxlY3RvcigiLnN3b2dvLW1vcmUtYnVuZGxlcyIpLGE9by5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYnVuZGxlIik7YS5sZW5ndGg+ZXx8d2luZG93LnN3b2dvLnRvb2xzLmFkZENsYXNzKHMsInN3b2dvLWRpc2FibGUiKTtmb3IodmFyIG49MDtuPGEubGVuZ3RoO24rKyllPm58fHdpbmRvdy5zd29nby50b29scy5hZGRDbGFzcyhhW25dLCJzd29nby1oaWRkZW4iKTt3aW5kb3cuc3dvZ28udG9vbHMuYWRkRXZlbnQocywiY2xpY2siLGZ1bmN0aW9uKHMpe3QocyxvLGUpfSl9LHNsaWRlUHJvZHVjdEltYWdlczpmdW5jdGlvbihvLGUsdCxzKXtmdW5jdGlvbiBhKG8pe2Zvcih2YXIgZT0wO2U8by5sZW5ndGg7ZSsrKXdpbmRvdy5zd29nby50b29scy5yZW1vdmVDbGFzcyhvW2VdLCJzd29nby1zZWxlY3RlZCIpO29bby5pbmRleCsxXT9vLmluZGV4Kys6by5pbmRleD0wLHdpbmRvdy5zd29nby50b29scy5hZGRDbGFzcyhvW28uaW5kZXhdLCJzd29nby1zZWxlY3RlZCIpfXZhciBuPW8ucXVlcnlTZWxlY3RvckFsbCgiLnN3b2dvLXByb2R1Y3QtaW1hZ2UiKTtuLmluZGV4PTAsbi5mb3JFYWNoKGZ1bmN0aW9uKG8pe3dpbmRvdy5zd29nby50b29scy5hZGRFdmVudChvLGUsZnVuY3Rpb24oKXtuLnNsaWRlc0ludGVydmFsfHwobi5zbGlkZXNJbnRlcnZhbD1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2Eobil9LHMpKX0pLHdpbmRvdy5zd29nby50b29scy5hZGRFdmVudChvLHQsZnVuY3Rpb24oKXtuLnNsaWRlc0ludGVydmFsJiYoY2xlYXJJbnRlcnZhbChuLnNsaWRlc0ludGVydmFsKSxuLnNsaWRlc0ludGVydmFsPXZvaWQgMCl9KX0pfSxhZGRMb2FkZXJTcGlubmVyOmZ1bmN0aW9uKG8pe28ucXVlcnlTZWxlY3RvcigiLnN3b2dvLWxvYWRlciIpfHxvLmluc2VydEFkamFjZW50SFRNTCgiYmVmb3JlRW5kIiwnPGRpdiBjbGFzcz0ic3dvZ28tbG9hZGVyIj48L2Rpdj4nKX0sY2xlYW5CdW5kbGVEaXNjb3VudDpmdW5jdGlvbihvLGUpe3ZhciB0PW8ucXVlcnlTZWxlY3RvcigiLnN3b2dvLWhvc3QiKSxzPW8ucXVlcnlTZWxlY3RvckFsbCgiLnN3b2dvLWFjY2Vzc29yeSIpLGE9ZS5ob3N0LG49ZS5hY2Nlc3NvcmllczthJiYoYS5kaXNjb3VudFByaWNlPW51bGwsYS5zYXZlPW51bGwsdCYmdC5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tZGlzY291bnQiKSYmKHQucXVlcnlTZWxlY3RvcigiLnN3b2dvLWRpc2NvdW50IikuaW5uZXJIVE1MPSIiKSx0JiZ0LnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1wcmljZSIpJiZ3aW5kb3cuc3dvZ28udG9vbHMucmVtb3ZlQ2xhc3ModC5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tcHJpY2UiKSwic3dvZ28tbGluZS10aHJvdWciKSx0JiZ0LnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1zYXZlIikmJih0LnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1zYXZlIikuaW5uZXJIVE1MPSIiKSksbi5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7c1t0XSYmc1t0XS5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tZGlzY291bnQiKSYmKHNbdF0ucXVlcnlTZWxlY3RvcigiLnN3b2dvLWRpc2NvdW50IikuaW5uZXJIVE1MPSIiKSxzW3RdJiZzW3RdLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1wcmljZSIpJiZ3aW5kb3cuc3dvZ28udG9vbHMucmVtb3ZlQ2xhc3Moc1t0XS5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tcHJpY2UiKSwic3dvZ28tbGluZS10aHJvdWciKSxzW3RdJiZzW3RdLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1zYXZlIikmJihzW3RdLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1zYXZlIikuaW5uZXJIVE1MPSIiKSxlLmZvckVhY2goZnVuY3Rpb24oZSxzKXtlLmRpc2NvdW50UHJpY2U9bnVsbCxlLnNhdmU9bnVsbDt2YXIgYT1vLnF1ZXJ5U2VsZWN0b3JBbGwoIi5zd29nby1hbHRlcm5hdGl2ZXMtYm94IilbdF0sbj1hLnF1ZXJ5U2VsZWN0b3JBbGwoIi5zd29nby1hbHRlcm5hdGl2ZSIpW3NdO24mJm4ucXVlcnlTZWxlY3RvcigiLnN3b2dvLWRpc2NvdW50IikmJihuLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1kaXNjb3VudCIpLmlubmVySFRNTD0iIiksbiYmbi5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tcHJpY2UiKSYmd2luZG93LnN3b2dvLnRvb2xzLnJlbW92ZUNsYXNzKG4ucXVlcnlTZWxlY3RvcigiLnN3b2dvLXByaWNlIiksInN3b2dvLWxpbmUtdGhyb3VnIiksbiYmbi5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tc2F2ZSIpJiYobi5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tc2F2ZSIpLmlubmVySFRNTD0iIil9KX0pfSxhcHBseUJ1bmRsZURpc2NvdW50OmZ1bmN0aW9uKG8sZSl7d2luZG93LnN3b2dvLmN1c3RvbUxpYi5jbGVhbkJ1bmRsZURpc2NvdW50KG8sZSk7dmFyIHQ9ZS5ob3N0LHM9ZS5hY2Nlc3Nvcmllczt0LmRpc2NvdW50VmFsdWUmJndpbmRvdy5zd29nby5jdXN0b21MaWIuYXBwbHlQcm9kdWN0RGlzY291bnQoby5xdWVyeVNlbGVjdG9yKCIuc3dvZ28taG9zdCIpLHQpLHMuZm9yRWFjaChmdW5jdGlvbihlLHQpe3ZhciBzPW8ucXVlcnlTZWxlY3RvckFsbCgiLnN3b2dvLWFjY2Vzc29yeSIpW3RdLGE9cy5nZXRBdHRyaWJ1dGUoImRhdGEtaWQiKSxuPWVbYV07bi5kaXNjb3VudFZhbHVlJiZ3aW5kb3cuc3dvZ28uY3VzdG9tTGliLmFwcGx5UHJvZHVjdERpc2NvdW50KHMsbiksZS5mb3JFYWNoKGZ1bmN0aW9uKGUscyl7dmFyIGE9by5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYWx0ZXJuYXRpdmVzLWJveCIpW3RdLG49YS5xdWVyeVNlbGVjdG9yQWxsKCIuc3dvZ28tYWx0ZXJuYXRpdmUiKVtzXTtlLmRpc2NvdW50VmFsdWUmJndpbmRvdy5zd29nby5jdXN0b21MaWIuYXBwbHlQcm9kdWN0RGlzY291bnQobixlKX0pfSl9LGFwcGx5UHJvZHVjdERpc2NvdW50OmZ1bmN0aW9uKG8sZSx0KXt0JiYoZS5kaXNjb3VudFZhbHVlPXQpLGUuZGlzY291bnRWYWx1ZSYmKGUuZGlzY291bnRQcmljZT1wYXJzZUZsb2F0KHBhcnNlRmxvYXQoZS5wcmljZSkrcGFyc2VGbG9hdChlLmRpc2NvdW50VmFsdWUpKSxlLnNhdmU9LTEqcGFyc2VGbG9hdChlLmRpc2NvdW50VmFsdWUpLG8mJm8ucXVlcnlTZWxlY3RvcigiLnN3b2dvLWRpc2NvdW50IikmJihvLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1kaXNjb3VudCIpLmlubmVySFRNTD1lLmRpc2NvdW50UHJpY2Usd2luZG93LnN3b2dvLnRvb2xzLnJlbW92ZUNsYXNzKG8ucXVlcnlTZWxlY3RvcigiLnN3b2dvLWRpc2NvdW50IiksInN3b2dvLWludmlzaWJsZSIpKSxvJiZvLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1wcmljZSIpJiZ3aW5kb3cuc3dvZ28udG9vbHMuYWRkQ2xhc3Moby5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tcHJpY2UiKSwic3dvZ28tbGluZS10aHJvdWciKSxvJiZvLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1zYXZlIikmJihvLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1zYXZlIikuaW5uZXJIVE1MPWUuc2F2ZSkpfSx1cGRhdGVTdW1tYXJ5UHJpY2VzOmZ1bmN0aW9uKG8sZSx0KXt2YXIgcz13aW5kb3cuc3dvZ28udG9vbHMuZ2V0QnVuZGxlUHJvZHVjdHNEYXRhKG8sZSksYT1vLnF1ZXJ5U2VsZWN0b3JBbGwoIi5zd29nby1zdW1tYXJ5Iik7YS5mb3JFYWNoKGZ1bmN0aW9uKG8pe3ZhciBlPTAsdD0wLGE9MCxuPTAscj1vLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1wcmljZSIpLGk9by5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tcnJwIiksYz1vLnF1ZXJ5U2VsZWN0b3IoIi5zd29nby1kaXNjb3VudCIpLGw9by5xdWVyeVNlbGVjdG9yKCIuc3dvZ28tc2F2ZSIpO2lmKHImJihyLmlubmVySFRNTD0iIiksaSYmKGkuaW5uZXJIVE1MPSIiKSxjJiYoYy5pbm5lckhUTUw9IiIpLGwmJihsLmlubmVySFRNTD0iIikscy5ob3N0KWZvcih2YXIgZD0wO2Q8cy5ob3N0LnF1YW50aXR5O2QrKyllPXBhcnNlRmxvYXQoKHBhcnNlRmxvYXQoZSkrcGFyc2VGbG9hdChzLmhvc3QucHJpY2UpKS50b0ZpeGVkKDIpKSx0PXBhcnNlRmxvYXQoKHBhcnNlRmxvYXQodCkrcGFyc2VGbG9hdChzLmhvc3QucnJQcmljZSkpLnRvRml4ZWQoMikpLGE9cGFyc2VGbG9hdChzLmhvc3QuZGlzY291bnRQcmljZT8ocGFyc2VGbG9hdChhKStwYXJzZUZsb2F0KHMuaG9zdC5kaXNjb3VudFByaWNlKSkudG9GaXhlZCgyKToocGFyc2VGbG9hdChhKStwYXJzZUZsb2F0KHMuaG9zdC5wcmljZSkpLnRvRml4ZWQoMikpO2Zvcih2YXIgdT0wO3U8cy5hY2Nlc3Nvcmllcy5sZW5ndGg7dSsrKWZvcih2YXIgZz1zLmFjY2Vzc29yaWVzW3VdLHc9MDt3PGcucXVhbnRpdHk7dysrKWcucHJpY2UmJihlPXBhcnNlRmxvYXQoKHBhcnNlRmxvYXQoZSkrcGFyc2VGbG9hdChnLnByaWNlKSkudG9GaXhlZCgyKSkpLGcucnJQcmljZSYmKHQ9cGFyc2VGbG9hdCgocGFyc2VGbG9hdCh0KStwYXJzZUZsb2F0KGcucnJQcmljZSkpLnRvRml4ZWQoMikpKSxhPXBhcnNlRmxvYXQoZy5kaXNjb3VudFByaWNlfHwwPT09Zy5kaXNjb3VudFByaWNlPyhwYXJzZUZsb2F0KGEpK3BhcnNlRmxvYXQoZy5kaXNjb3VudFByaWNlKSkudG9GaXhlZCgyKToocGFyc2VGbG9hdChhKStwYXJzZUZsb2F0KGcucHJpY2UpKS50b0ZpeGVkKDIpKTtlJiZhJiYobj1wYXJzZUZsb2F0KChwYXJzZUZsb2F0KGUpLnRvRml4ZWQoMiktcGFyc2VGbG9hdChhKSkudG9GaXhlZCgyKSkpLGUmJnImJihyLmlubmVySFRNTD0iIitlKSx0JiZpJiYoaS5pbm5lckhUTUw9IiIrdCksYSYmYSE9ZSYmYyYmKGMuaW5uZXJIVE1MPSIiK2EpLG4mJm4+MCYmbD8obC5pbm5lckhUTUw9IiIrbix3aW5kb3cuc3dvZ28udG9vbHMuYWRkQ2xhc3Mociwic3dvZ28tbGluZS10aHJvdWciKSx3aW5kb3cuc3dvZ28udG9vbHMucmVtb3ZlQ2xhc3MoYywic3dvZ28taW52aXNpYmxlIikpOmwmJih3aW5kb3cuc3dvZ28udG9vbHMucmVtb3ZlQ2xhc3Mociwic3dvZ28tbGluZS10aHJvdWciKSx3aW5kb3cuc3dvZ28udG9vbHMuYWRkQ2xhc3MoYywic3dvZ28taW52aXNpYmxlIikpfSksdC5jdXN0b21pemF0aW9uLmV4ZWN1dGVPblVwZGF0ZVByaWNlcyhvKX19LGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7cmV0dXJuIE9iamVjdC5rZXlzKHIpfWZ1bmN0aW9uIHQobyl7cmV0dXJuIHJbb119ZnVuY3Rpb24gcyhlLHQpe3JbZV09bmV3IG8oZSx0KSxzd29nb0RlYnVnJiZ3aW5kb3cuc3dvZ28udG9vbHMucHJpbnRMb2coImxvZyIsInNldCBQYWdlIGFzICciK2UrIicgIil9ZnVuY3Rpb24gYSgpe2Zvcih2YXIgbz1PYmplY3Qua2V5cyhyKSxlPTA7ZTxvLmxlbmd0aDtlKyspe3ZhciB0PXJbb1tlXV07aWYodC5zZWxlY3Rvcih7bW9iaWxlOmMuaXNNb2JpbGV9KSlyZXR1cm4gdC5uYW1lfXJldHVybiBudWxsfWZ1bmN0aW9uIG4obyxlKXt2YXIgcz1hKCk7c3dvZ29EZWJ1ZyYmd2luZG93LnN3b2dvLnRvb2xzLnByaW50TG9nKCJsb2ciLCJbIitvKyJdIGxvYWQgYnVuZGxlIG9uICciK3MrIicgcGFnZSAiKSxzJiZ0KHMpLmxvYWRCdW5kbGUobyxlKX12YXIgcj17fTtyZXR1cm57Z2V0UGFnZU5hbWVzOmUsZ2V0UGFnZTp0LHNldFBhZ2U6cyxnZXRDdXJyZW50UGFnZTphLGxvYWQ6bn19KCk7cmV0dXJue2dldFVJOm4sZ2V0VG9vbHM6cixnZXRDdXN0b21MaWI6aSxsb2FkU3dvZ286YX19KCk7d2luZG93LnN3b2dvLnVpPVN3b2dvLmdldFVJKCksd2luZG93LnN3b2dvLnRvb2xzPVN3b2dvLmdldFRvb2xzKCksd2luZG93LnN3b2dvLmN1c3RvbUxpYj1Td29nby5nZXRDdXN0b21MaWIoKTs="
].forEach(function(el){ this.d(el)});

/*** CONFIGURATIONS ***/
var swogoDebug = true;
/** [ COLLECTIONS OF TEMPLATES ] **/
var templates = {
    default : {
        container: '' +
        '<div class="swogo-container">' +
        '<h1 class="swogo-container-title"></h1>' +
        '<div class="swogo-bundle"></div>' +
        '<div class="swogo-more-bundles swogo-action-close"></div>' +
        '</div>',

        bundle: '' +
        '<div class="swogo-bundle">' +
        '<div class="swogo-main">' +
        '<div class="swogo-host"></div>' +
        '<div class="swogo-accessory"></div>' +
        '<div class="swogo-summary" ></div>' +
        '</div>' +
        '<div class="swogo-alternatives-box"></div>' +
        '<div class="swogo-options-box"></div>' +
        '<div class="swogo-summary-bottom">' +
        '<div class="swogo-summary">' +
        '</div>' +
        '</div>' +
        '</div>',

        host: '' +
        '<div class="swogo-host">' +                  // host
        '<div class = "swogo-sku swogo-invisible" data-text = "host.sku"></div>' +
        '<div class = "swogo-addCart swogo-invisible" data-text = "host.addCart"></div>' +
        '<div class = "swogo-category swogo-invisible" data-text = "host.category"></div>' +
        '<div class="swogo-brand swogo-invisible" data-text = "host.brand"></div>' +
        '<div class="swogo-rrp swogo-invisible" data-text = "host.rrPrice"></div>' +
        '<div class="swogo-discount swogo-invisible"></div>' +
        '<div class="swogo-save swogo-invisible"></div>' +
        '<section class="swogo-product-images-container">' +
        '<img class="swogo-product-image"  data-src="host.images" data-title="host.title" data-alt ="host.title"/>' +
        '</section>' +
        '<a class="swogo-product-link" target="_blank" data-href="host.url">' +
        '<div class="swogo-title" data-text = "host.title"></div>' +
        '</a>' +
        '<div class="swogo-price" data-text = "host.price"></div>' +
        '<div class="swogo-rating swogo-invisible" data-text = "host.rating"></div>' +
        '<input class="swogo-quantity swogo-invisible" type="number" placeholder="1" min="0" max="10">' +
        '</div>',

        accessory: '' +
        '<div class="swogo-accessory" >' +            // accessory
        '<div class = "swogo-sku swogo-invisible" data-text = "accessory.sku"></div>' +
        '<div class = "swogo-addCart swogo-invisible" data-text = "accessory.addCart"></div>' +
        '<div class = "swogo-category swogo-invisible" data-text = "accessory.category"></div>' +
        '<div class="swogo-brand swogo-invisible" data-text = "accessory.brand"></div>' +
        '<div class="swogo-rrp swogo-invisible" data-text = "accessory.rrPrice"></div>' +
        '<div class="swogo-save swogo-invisible"></div>' +
        '<section class="swogo-product-images-container">' +
        '<img class="swogo-product-image"  data-src="accessory.images"  data-title="accessory.title" data-alt ="accessory.title"/>' +
        '</section>' +
        '<a class= "swogo-product-link" target="_blank" data-href="accessory.url">' +
        '<div class="swogo-title" data-text = "accessory.title"></div>' +
        '</a>' +
        '<div class="swogo-price" data-text = "accessory.price"></div>' +
        '<div class="swogo-discount swogo-invisible"></div>' +
        '<div class="swogo-rating swogo-invisible" data-text = "accessory.rating"></div>' +
        '<input class="swogo-quantity swogo-invisible" type="number" placeholder="1"  min="0" max="10">' +
        '<div class="swogo-button-alternatives"> </div>' +
        '<div class="swogo-button-add-to-cart swogo-invisible"> add product </div>' +
        '<div class="swogo-button-filter swogo-invisible" data-filter = "color"> color </div>' +
        '<div class="swogo-button-filter swogo-invisible" data-filter = "size"> size </div>' +
        '<div class="swogo-button-filter swogo-invisible" data-filter = "storeId"> storeId </div>' +
        '</div>',

        summary: '' +
        '<div class="swogo-summary">' +
        '<div class="swogo-rrp swogo-invisible"></div>' +
        '<div class="swogo-price"></div>' +
        '<div class="swogo-discount swogo-invisible"></div>' +
        '<div class="swogo-save swogo-invisible"></div>' +
        '<div class="swogo-save-price swogo-invisible"></div>' +
        '<div class="swogo-bundle-summary-info swogo-invisible"> <span class="swogo-icon-info icon icon-info" data-layer="deliveryinformation"></span> </div>' +
        '<div class="swogo-buttons-container">' +
        '<div class="swogo-button-add-to-cart"><span class="swogo-icon-cart"></span></div>' +
        '</div>' +
        '</div>',


        alternativesBox: '' +
        '<div class="swogo-alternatives-box">' +
        '<div class="swogo-alternative"></div>' +
        '</div>',

        optionsBox: '' +
        '<div class="swogo-options-box">' +
        '<div class="swogo-option"></div>' +
        '</div>',

        alternative: '' +
        '<div class="swogo-alternative">' +            // alternative
        '<div class = "swogo-sku swogo-invisible" data-text = "accessory.sku"></div>' +
        '<div class = "swogo-addCart swogo-invisible" data-text = "accessory.addCart"></div>' +
        '<div class = "swogo-category swogo-invisible" data-text = "accessory.category"></div>' +
        '<div class="swogo-brand swogo-invisible" data-text = "accessory.brand"></div>' +
        '<div class="swogo-save swogo-invisible"></div>' +
        '<section class="swogo-product-images-container">' +
        '<img class="swogo-product-image"  data-src="accessory.images"  data-title="accessory.title" data-alt ="accessory.title"/>' +
        '</section>' +
        '<a class="swogo-product-link" target="_blank" data-href="accessory.url">' +
        '<div class="swogo-title" data-text = "accessory.title"></div>' +
        '</a>' +
        '<div class="swogo-rrp swogo-invisible" data-text = "accessory.rrPrice"></div>' +
        '<div class="swogo-price" data-text = "accessory.price"></div>' +
        '<div class="swogo-discount swogo-invisible" data-text = "accessory.discount"></div>' +
        '<div class="swogo-rating swogo-invisible" data-text = "accessory.rating"></div>' +
        '<input class="swogo-quantity swogo-invisible" type="number" placeholder="1" min="0" max="10">' +
        '<div class="swogo-button-alternatives"> </div>' +
        '<div class="swogo-button-select-alternative">  </div>' +
        '<div class="swogo-button-add-to-cart swogo-invisible"> add product </div>' +
        '<div class="swogo-button-filter swogo-invisible" data-filter="color"> color </div>' +
        '<div class="swogo-button-filter swogo-invisible" data-filter="size"> size </div>' +
        '<div class="swogo-button-filter swogo-invisible" data-filter = "storeId"> storeId </div>' +
        '</div>',

        option: '' +
        '<div class="swogo-option">' +            // option
        '<div class = "swogo-sku" data-text = "accessory.sku"></div>' +
        '<div class = "swogo-addCart" data-text = "accessory.addCart"></div>' +
        '<div class = "swogo-category" data-text = "accessory.category"></div>' +
        '<a class="swogo-product-link" target="_blank" data-href="accessory.url">' +
        '<div class="swogo-title" data-text = "accessory.title"></div>' +
        '</a>' +
        '<div class="swogo-brand" data-text = "accessory.brand"></div>' +
        '<div class="swogo-rrp" data-text = "accessory.rrPrice"></div>' +
        '<div class="swogo-price" data-text = "accessory.price"></div>' +
        '<div class="swogo-discount"></div>' +
        '<div class="swogo-save"></div>' +
        '<section class="swogo-product-images-container">' +
        '<img class="swogo-product-image"  data-src="accessory.images"  data-title="accessory.title" data-alt ="accessory.title"/>' +
        '</section>' +
        '<div class="swogo-rating" data-text = "bundles.rating"></div>' +
        '<input class="swogo-quantity" type="number" value="1" min="0" max="10">' +
        '<div class="swogo-button-alternatives"> show alternative </div>' +
        '<div class="swogo-button-select-alternative"> select alternative </div>' +
        '<div class="swogo-button-select-option"> select option </div>' +
        '<div class="swogo-button-add-to-cart"> add product </div>' +
        '<div class="swogo-button-filter" data-filter="color"> color </div>' +
        '<div class="swogo-button-filter" data-filter="size"> size </div>' +
        '<div class="swogo-button-filter" data-filter = "storeId"> storeId </div>' +
        '</div>'
    },
};
/** [ BUNDLES CONFIGS ] **/
var pdpBundle = {
    template : {
        container : templates.default.container,
        bundle : templates.default.bundle,
        host : templates.default.host,
        accessory : templates.default.accessory,
        summary : templates.default.summary,
        alternativesBox : templates.default.alternativesBox,
        alternative : templates.default.alternative,
        optionsBox : templates.default.optionsBox,
        option : templates.default.option
    },
    displayRoles : {
        bundles : 10,
        host : 1,
        accessories : swogo.tools.isMobile ? 2 : 3,
        alternatives : 3,
        options :  4
    },
    matchingConfig : "pdp",
    loadBundle : function (bundleDomElement,hostIndex,onLoadComplete) {
        var bundlesPageDOMContainer;
        var target = document.querySelector(".prod-all-headers");
        var bundlesDOMContainer = document.querySelector(".swogo-container-pdp");

        if(target && !bundlesDOMContainer){
            target.insertAdjacentHTML("beforeBegin", bundleDomElement.innerHTML);
            bundlesPageDOMContainer = document.querySelector(".swogo-container-pdp");
        }else{
            bundlesPageDOMContainer = bundlesDOMContainer;
        }

        onLoadComplete(bundlesPageDOMContainer);
    },
    customization : {
        formatPrice : function (price) {
            if(!price.innerHTML) return;
            price.innerHTML = " " + parseFloat(price.innerHTML).toFixed(2);
        },
        applyBundleDiscount : window.swogo.customLib.applyBundleDiscount,       //else create your own
        /** -- on Events -- **/
        executeOnBundleLoad : function (bundlesContainer) {
            var bundles = bundlesContainer.querySelectorAll('.swogo-bundle');
            
            bundles.forEach(forEachBundle);

            function forEachBundle (bundle){
                var mainProducts = bundle.querySelectorAll('.swogo-main .swogo-host, .swogo-main .swogo-accessory');
                var alternatives = bundle.querySelectorAll('.swogo-alternatives-box .swogo-alternative');
                var bottomSummary = bundle.querySelector('.swogo-summary-bottom .swogo-summary');
                mainProducts.forEach(forEachMainProduct);
                alternatives.forEach(forEachAlternative);
                pdpBundle.customization.formatPrice(bottomSummary.querySelector('.swogo-price'));
            }

            function forEachMainProduct (product){
                window.swogo.customLib.slideProductImages(product,"mouseover","mouseout",2500);
                pdpBundle.customization.formatPrice(product.querySelector(".swogo-price"));
                pdpBundle.customization.formatPrice(product.querySelector(".swogo-rrp"));
                pdpBundle.customization.formatPrice(product.querySelector(".swogo-discount"));
                pdpBundle.customization.formatPrice(product.querySelector(".swogo-save"));
            }

            function forEachAlternative (product) {
                pdpBundle.customization.formatPrice(product.querySelector(".swogo-price"));
            }
        },
        executeOnOptionsLoad : function (bundleDomElement) {},
        executeOnUpdatePrices : function (bundleDomElement) {
            var summary = bundleDomElement.querySelector(".swogo-summary");
            var summaryRpp = summary.querySelector(".swogo-rrp");
            var summaryPrice = summary.querySelector(".swogo-price");
            var summaryDiscount = summary.querySelector(".swogo-discount");
            var summarySave = summary.querySelector(".swogo-save");
            pdpBundle.customization.formatPrice(summaryRpp);
            pdpBundle.customization.formatPrice(summaryPrice);
            pdpBundle.customization.formatPrice(summaryDiscount);
            pdpBundle.customization.formatPrice(summarySave);

            var products = bundleDomElement.querySelectorAll('.swogo-main .swogo-host, .swogo-main .swogo-accessory, .swogo-alternatives-box .swogo-alternative');
            products.forEach(function (prod) {
                prod.querySelector('.swogo-product-image').onclick = function () {
                    prod.querySelector('.swogo-product-link').click();
                }
            });
        }
    },
    addCart : function(bundleData,bundleDomElement){
        var host = bundleData.host;
        var accessories = bundleData.accessories;
        var products = [];
        if (host) products.push(host);
        accessories.forEach(function (accessoryData) {
            if (accessoryData) products.push(accessoryData);
        });
        window.swogo.customLib.addLoaderSpinner(bundleDomElement);
        sendRequest (products,function redirect () {
            console.log("finish!");
            window.location.href = '/carrinho/';
        });

        function sendRequest (products,callback) {
            if(!callback) callback = function () {};
            var params = {
                url:"/carrinho/",
                method:"get",
                payload: "id=" + products[0].sku + "&utm_source=swogo&utm_medium=PPC&utm_campaign=pack"
            };
            window.swogo.tools.ajaxRequest(params,function (){
                products.shift();
                if (!products.length) callback();
                else sendRequest (products,callback);
            })
        }

    }
};

/*******************************************************************************************************/

/** [ DEFINE PAGES ] **/ 

window.swogo.ui.setPage("pdp", function (parameters) {
    return (window.location.href.indexOf("/catalogo/") >= 0 && !parameters.isMobile);
});
window.swogo.ui.setPage("basket", function (parameters){
    return (window.location.href.indexOf("/carrinho/") >= 0);
});
window.swogo.ui.setPage("payment", function (parameters) {
    return (window.location.href.indexOf("/utilizadores/registo_concluido.php") >= 0);
});

var pdpPage = window.swogo.ui.getPage("pdp");
pdpPage.extractSKUs(function getSkus (){
    var ids = [];

    ids.push(window.location.href.match(/idprod=(\d+)/i)[1]);
    
    return ids;
});
pdpPage.addBundle("pdp", pdpBundle);

var basketPage = window.swogo.ui.getPage("basket");
basketPage.extractSKUs(function getSkus(){
    var ids = [];
        
    return ids;
});
basketPage.setProductsData(function getProducts(){
    var items = [];

    // {
    //     "id" : productId,
    //     "price" : price ,
    //     "title" : title
    // }

    return items;
});

var paymentPage = window.swogo.ui.getPage("payment");
paymentPage.setOrderParams(function getOrderId(){
    if (!document.querySelectorAll('.car-normal-text strong')[1]) return { id: '1500' }
    return { id: document.querySelectorAll('.car-normal-text strong')[1].textContent.trim() }
});

/*******************************************************************************************************/
/** [ LOAD SWOGO ]  **/
var cssCoreLink = document.createElement( 'link' );
cssCoreLink.rel = "stylesheet";
cssCoreLink.href = "https://ui.swogo.com/radiopopularPt/A/style.css?q="+Math.random();

document.querySelector("body").appendChild(cssCoreLink);

window.swogo.params = {
    name:"radiopopularPt",
    language: "pt",
    variant : "A"
};
Swogo.loadSwogo();
 